<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi - Appunti caotici</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod4-3-Lez3.html' title='Sistemi Operativi - Appunti caotici'>Sistemi Operativi - Appunti caotici</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 3</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Tecniche di allocazione dei frame</span>
</p>
<div class='vspace'></div><h2>Pag 1</h2>
<h4>Sommario</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Problema</h4>
<p>Il numero di frame allocati ad un processo influenza la frequenza di page fault: maggiore è il numero di frame e minore e l'occorrenza, quindi minore è anche il tempo di accesso medio alla memoria centrale (dato dal tempo fisico di accesso alla RAM più il tempo di gestione di eventuali page fault).
</p>
<p class='vspace'>Va ricordato però che non ho mai la garanzia di non avere page fault. Ad esempio se anche avessi dedicato tutta la memoria centrale a un solo processo, potrei averne comunque nel caso in cui lo spazio di indirizzamento del processo fosse maggiore della memoria stessa.
</p>
<p class='vspace'>Allora quanti frame dovrei allocare a ciascun processo per avere una situazione ottimale? Uguale al numero di pagine? Variabile a seconda del processo?
</p>
<div class='vspace'></div><h4>Vincoli per l'allocazione dei frame</h4>
<p>Nella scelta del numero di frame da allocare ho alcuni vincoli da tenere in considerazione:
</p><ul><li><em>numero minimo di frame per ogni processo</em> (codice + dati) da assicurare, o rischiamo di non far partire decentemente i processi rallentandoli eccessivamente con page fault. Dipende dall'architettura e dalla tecnica di gestione (paginazione/segmentazione/combo)
</li><li><em>frame disponibili</em>. Dipendono dalla memoria centrale fisica installata
</li><li><em>frame allocati</em>, il cui numero permette di calcolare quanto risparmio nel caso in cui condividessi alcuni frame tra diversi processi.
</li><li><em>insieme dei frame da cui effettuare l'allocazione</em>. Distinguo due casi: <em>allocazione globale</em> che considera tutti i frame liberi come assegnabili a qualsiasi processo, e <em>allocazione locale</em> che prima suddivide i frame tra i vari processi e poi fa la valutazione in base a quelli assegnati
</li></ul><div class='vspace'></div><h2>Pag 3</h2>
<h4>Allocazione omogenea</h4>
<p>Nell' <em>allocazione omogenea</em> ognuno degli <em>n</em> processi ha la stessa quantità <em>f<sub>i</sub></em> di frame allocati sugli <em>m</em> frame totali. Vale quindi la relazione: f<sub>i</sub> = m / n
</p>
<p class='vspace'>Aumentare troppo il grado di multiprogrammazione rischia di assegnare un numero limitato di frame per ogni processo, aumentando di conseguenza il fenomeno dei page fault con beghe annesse. Dovrei quindi limitare il numero dei processi in memoria centrale, col rischio però di avere pochi processi ready to run e quindi sfruttare poco il processore. Bisogna bilanciare.<br />Generalmente si cerca di mantenere alto lo stato di multiprogrammazione in maniera oculata, evitando ad esempio di considerare quei processi in attesa che presumo vi rimangano per un tempo abbastanza lungo.
</p>
<p class='vspace'>L' <em>allocazione omogenea</em> è una tecnica semplice ma non soddisfacente in alcuni casi, principalmente due:
</p><ul><li>abbiamo una grossa quantità di memoria centrale occupata da un processo che deve accedere spesso a grosse strutture dati. Dargli poche pagine aumenta la frequenza dei page fault
</li><li>abbiamo un processo che non ha bisogno di molti dati, ma che ha numerose porzioni di codice a cui deve accedere spesso
</li></ul><p>Una soluzione piuttosto semplicistica potrebbe essere l'allocazione proporzionale alla dimensione, che vediamo nella prossima slide.
</p>
<div class='vspace'></div><h4>Allocazione proporzionale alla dimensione</h4>
<p>Nell' <em>allocazione proporzionale alla dimensione</em> il numero di frame allocati a un processo è proporzionale alla dimensione del processo. Tiene abbastanza ben conto delle necessità dei processi nella maggior parte dei casi, e presume che processi grandi accedano a un maggior numero di frame nell'intervallo di tempo.
</p>
<p class='vspace'>Se ho un processo molto localizzato che accede sempre a una certa zona di memoria centrale in un dato intervallo di tempo, basterebbe assegnargli come dimensione quella della porzione stessa. Se invece ho un processo che si sposta molto (ovvero non accede ai dati in modo continuo, omogeneo, fluente), il numero dei page fault potrebbe aumentare. In questo caso è difficile stabilire a priori quanto il processo è dinamico nel muoversi nello spazio di indirizzamento, quindi è arduo scegliere la dimensione ideale da assegnargli.
</p>
<div class='vspace'></div><h2>Pag 4</h2>
<h4>Allocazione proporzionale alla priorità</h4>
<p>Finora si è sempre supposto che tutti i processi abbiano la stessa importanza, e che quindi si voglia che evolvino con la stessa velocità. Nell' <em>allocazione proporzionale alla priorità</em> il numero di frame allocati a un processo è invece proporzionale alla priorità del processo stesso. Ciò diminuisce il numero di page fault (e quindi il tempo medio di accesso alla memoria centrale) dando ai processi più importanti un maggior numero di frame.
</p>
<p class='vspace'>Se chiamiamo <em>m</em> i frame totali, <em>p<sub>i</sub> </em> le priorità del processo P<sub>i</sub> e <em>f<sub>i</sub> </em> i frame allocati al processo P<sub>i</sub>, se siamo in logica positiva (l'opposto di Unix) avremo che:
f<sub>i</sub> = m x p<sub>i</sub> / (Sommatoria)p<sub>i</sub>
</p>
<p class='vspace'>Questo valore non ha alcun significato dal punto di vista delle priorità, ma è una formula semplice per ottenere una verosimile distribuzione delle priorità.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod4-3-Lez3)</span></div>
  </div>
</body>
</html>
