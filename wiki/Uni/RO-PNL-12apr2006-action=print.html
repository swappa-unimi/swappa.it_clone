<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Ricerca Operativa - PNL - Costi di trasporto - 12.04.06</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-PNL-12apr2006.html' title='Ricerca Operativa - PNL - Costi di trasporto - 12.04.06'>Ricerca Operativa - PNL - Costi di trasporto - 12.04.06</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - PNL - Costi di trasporto - 12.04.06 ::</strong>
</pre><div class='vspace'></div><h2>Testo del problema</h2>
<p>Si vuole risolvere il seguente problema di ottimizzazione relativo ai costi da sostenere per il trasporto di scorie pericolose da un dato insieme di impianti chimici che le producono ad un dato insieme di impianti di trattamento che le trasformano.
E’ nota la quantità di scorie che deve essere rimossa da ogni impianto chimico ed è nota la capacità di ogni impianto di trattamento. La somma di tali capacità è uguale alla totale quantità di scorie prodotte dagli impianti chimici. E’ possibile effettuare il trasporto da qualunque impianto chimico a qualunque impianto di trattamento, ma tutte le operazioni di trasporto devono essere eseguite simultaneamente nello stesso giorno per motivi di sicurezza. Bisogna quindi predisporre un adeguato numero di convogli scortati dagli agenti di pubblica sicurezza. Ogni convoglio corrisponde ad una diversa coppia origine/destinazione tra cui si decide di eseguire un trasporto.<br />Esistono diverse ipotesi sui costi che potrebbero derivare dalle operazioni di trasporto.<br />Secondo un’ipotesi A trasportare grandi quantità di scorie insieme nello stesso convoglio aumenterebbe il rischio di incidente, provocando quindi una diseconomia di scala. Secondo questa ipotesi i costi per ogni coppia origine/destinazione sono definiti come costo(i,j) = a(j) * q(i,j) + b(i) / q(i,j dove q(i,j) indica la quantità trasportata dall’impianto chimico i all’impianto di trattamento j, mentre a(j) e b(i) sono coefficienti di costo che dipendono il primo dalla destinazione e il secondo dall’origine del viaggio.<br />Secondo un’ipotesi B il costo di trasporto su ogni tratta è invece da considerarsi direttamente proporzionale alla quantità trasportata su quella tratta secondo un coefficiente di proporzionalità c(i,j) diverso per ogni tratta.<br />Secondo un’ipotesi C il costo è soggetto ad economie di scala, cioè trasportare grandi quantità provoca un abbassamento del costo unitario di trasporto. Secondo questa ipotesi i costi di trasporto su ogni tratta sono dati da costo(i,j) = sqrt(d(j)*e(i)*q(i,j)) dove q(i,j) indica la quantità trasportata dall’impianto chimico i all’impianto di trattamento j, mentre d(j) ed e(i) sono coefficienti di costo che dipendono il primo dalla destinazione e il secondo dall’origine del viaggio.
Infine secondo un’ipotesi D i costi dipenderebbero solo dal numero di convogli da utilizzare.<br />Si chiede di formulare e risolvere il problema di minimizzazione dei costi in ciascuna delle quattro ipotesi indicate, specificando per ciascuno dei modelli di programmazione matematica risultanti il tipo di modello e l’algoritmo usato per risolverlo e discutendo di conseguenza l’ottimalità della soluzione ottenuta in ciascuno dei quattro casi.<br />I dati sono contenuti nel file TRASPORTO.TXT.
</p>
<div class='vspace'></div><h3>Dati</h3>
<pre class='escaped'>
Le origini sono 6, le destinazioni sono 8.

Tab.1: Costi con diseconomie di scala

Destin.  1  2  3  4  5  6  7  8
a       18 19 10 14 16 17 18 15

Origine  1  2  3  4  5  6
b       50 48 57 52 52 51

Tab.2: Costi proporzionali

c    1  2  3  4  5  6  7  8

1   10 12 14 16 15 20 22 24
2   13 17 15 13 11 14 18 20
3   12 20 24 25 13 18 19 23
4   15 18 19 23 25 28 29 14
5   15 28 16 16 29 29 25 21
6   25 10 10 14 10 27 29 20

Tab.3: Costi con economie di scala

Destin.  1  2  3  4  5  6  7  8
d        7  3  8  2  9  4  3  2

Origine  1  2  3  4  5  6
e        3  4  2  2  3  5

Tab.4: Domande ed offerte

Origine    1   2   3   4   5   6
offerta  240 320 500 210 600 330

Destin.   1   2   3   4   5   6   7   8
domanda 200  90 310 100 350 650 240 260
</pre>
<div class='vspace'></div><h2>Formulazione del problema</h2>
<p>In questo problema abbiamo quattro ipotesi, a cui ci riferiremo con le sigle: "hp A", "hp B", "hp C", "hp D".
</p>
<div class='vspace'></div><h3>Dati</h3>
<ul><li><strong>orig = 6</strong> (numero di origini)
</li><li><strong>dest = 8</strong> (numero di destinazioni)
</li><li><strong>coeffA<sub>j</sub></strong> (hp A: coefficiente di costo che dipende dalla destinazione j=1..8)
</li><li><strong>coeffB<sub>i</sub></strong> (hp A: coefficiente di costo che dipende dall'origine i=1..6)
</li><li><strong>coeffC<sub>ij</sub></strong> (hp B: coefficiente di proporzionalità dei costi per ogni tratta che va dall'origine i=1..6 alla destinazione j=1..8)
</li><li><strong>coeffD<sub>j</sub></strong> (hp C: coefficiente di costo che dipende dalla destinazione j=1..8)
</li><li><strong>coeffE<sub>i</sub></strong> (hp C: coefficiente di costo che dipende dall'origine i=1..6)
</li><li><strong>offerta<sub>i</sub></strong> (offerta di scorie dall'origine i=1..6)
</li><li><strong>domanda<sub>j</sub></strong> (domanda di scorie dalla destinazione j=1..8)
</li></ul><div class='vspace'></div><h3>Variabili</h3>
<ul><li><strong>x<sub>ij</sub></strong> (quantità di scorie inviate dall'origine i alla destinazione j)
</li></ul><p class='vspace'>La variabile è continua e non negativa.
</p>
<div class='vspace'></div><h3>Funzione obiettivo</h3>
<p>Elenchiamo le funzioni obiettivo delle varie ipotesi:
</p><ul><li>hp A:<br /><strong>min (somma)<sub>i</sub> (somma)<sub>j</sub>  (coeffA<sub>j</sub> * x<sub>ij</sub>) + (coeffB<sub>i</sub> / x<sub>ij</sub>)</strong>
</li><li>hp B:<br /><strong>min (somma)<sub>i</sub> (somma)<sub>j</sub>  coeffC<sub>ij</sub> * x<sub>ij</sub></strong>
</li><li>hp C:<br /><strong>min (somma)<sub>i</sub> (somma)<sub>j</sub>  (coeffD<sub>j</sub> * coeffE<sub>i</sub> * x<sub>ij</sub>)<sup>1/2</sup></strong>
</li><li>hp D. Richiede la definizione di una variabile ausiliaria binaria y<sub>ij</sub>, che definiremo nei vincoli, e che indica se un convoglio percorre la tratta i-j oppure no:<br /><strong>min (somma)<sub>i</sub> (somma)<sub>j</sub>  y<sub>ij</sub></strong>
</li></ul><div class='vspace'></div><h3>Vincoli</h3>
<ul><li>vincolo che impone che la quantità di scorie inviate da ogni origine coincida con l'offerta:<br /><strong>(somma)<sub>j</sub>  x<sub>ij</sub> = offerta<sub>i</sub></strong> (per ogni i)
<div class='vspace'></div></li><li>vincolo che impone che la quantità di scorie ricevuta da ogni destinazione coincida con la domanda:<br /><strong>(somma)<sub>i</sub>  x<sub>ij</sub> = domanda<sub>j</sub></strong> (per ogni j)
<div class='vspace'></div></li><li>vincolo che definisce la variabile ausiliaria binaria y<sub>ij</sub> legandola alla variabile x<sub>ij</sub>:<br /><strong>1000 * y<sub>ij</sub> &gt;= x<sub>ij</sub></strong> (per ogni i e per ogni j)
</li></ul><p class='vspace'>Nell'ultimo vincolo perchè abbiamo moltiplicato proprio per 1000? Perché è un numero maggiore di qualsiasi valore possa assumere x<sub>ij</sub>. Se infatti x<sub>ij</sub> è pari a 0, il minimo valore di y<sub>ij</sub> per essergli maggiore o uguale è 0; se invece x<sub>ij</sub> è pari a una qualche cifra positiva (sicuramente minore di 1000), il minimo valore di y<sub>ij</sub> per esergli maggiore o uguale è 1. Perché parliamo di “minimo valore”? Perché la funzione obiettivo legata a questa variabile (quella dell'hp D) chiede di minimizzare la somma delle y<sub>ij</sub>.
</p>
<div class='vspace'></div><h2>Linghizzazione del problema</h2>
<p>Nel seguente listato abbiamo quattro funzioni obiettivo corrispondenti alle quattro ipotesi. Ovviamente il problema può essere risolto solo in funzione di una di esse alla volta, quindi le altre andranno commentate.
</p>
<div class='vspace'></div><pre class='escaped'>
! esercizio - Costi di trasporto;

model:

sets:
origini /1..6/: coeffB, coeffE, offerta;
destinazioni /1..8/: coeffA, coeffD, domanda;
tratta (origini,destinazioni): x, y, coeffC; 
! x è variabile continua non negativa;
! y è variabile binaria;
endsets

data:
coeffC = 	10 12 14 16 15 20 22 24
    		13 17 15 13 11 14 18 20
    		12 20 24 25 13 18 19 23
    		15 18 19 23 25 28 29 14
    		15 28 16 16 29 29 25 21
    		25 10 10 14 10 27 29 20;
coeffB = 50 48 57 52 52 51;
coeffA = 18 19 10 14 16 17 18 15;
coeffD =  7  3  8  2  9  4  3  2;
coeffE =  3  4  2  2  3  5;
offerta = 240 320 500 210 600 330;
domanda = 200  90 310 100 350 650 240 260;
enddata

! funzione obiettivo - hp A;
! min = @sum(tratta(i,j): coeffA(j) * x(i,j) + coeffB(i) / x(i,j)); ;

! funzione obiettivo - hp B;
! min = @sum(tratta(i,j): coeffC(i,j) * x(i,j)); ;

! funzione obiettivo - hp C;
! min = @sum(tratta(i,j): (coeffD(j) * coeffE(i) * x(i,j))^0.5); ;

! funzione obiettivo - hp D;
! min = @sum(tratta(i,j): y(i,j));;

! vincolo sulla quantità di scorie inviate;
@for(origini(i): @sum(destinazioni(j): x(i,j)) = offerta(i));

! vincolo sulla quantità di scorie ricevute;
@for(destinazioni(j): @sum(origini(i): x(i,j)) = domanda(j));

! dichiaro binaria la variabile ausiliaria y;
@for(tratta(i,j): @bin(y(i,j)));

! definisco la variabile ausiliaria y;
@for(tratta(i,j): 1000*y(i,j) &gt;= x(i,j));

end
</pre>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-PNL-12apr2006)</span></div>
  </div>
</body>
</html>
