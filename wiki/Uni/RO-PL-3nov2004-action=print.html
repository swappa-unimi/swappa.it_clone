<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Ricerca Operativa - PL - Pasticceria - 3.11.04</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-PL-3nov2004.html' title='Ricerca Operativa - PL - Pasticceria - 3.11.04'>Ricerca Operativa - PL - Pasticceria - 3.11.04</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - PL - Pasticceria - 3.11.04 ::</strong>
</pre><div class='vspace'></div><h2>Testo del problema</h2>
<p>Una pasticceria rifornisce un centro commerciale di due tipi di lavorati. Gli operai dell’azienda lavorano in tre turni orari (dalle 6 alle 14, dalle 14 alle 22 e dalle 22 alle 6). Il costo della produzione di ogni tipo di lavorato varia da turno a turno, a causa della diversa paga oraria degli operai. Alla fine di ciascun turno, parte dei lavorati prodotti viene trasportata al centro commerciale, parte può essere immagazzinata e trasportata al centro commerciale al termine dei turni successivi. Anche la conservazione dei lavorati nel magazzino, tuttavia, ha un costo.<br />La produzione di ciascun lavorato richiede l’utilizzo di alcune materie prime, conservate in un magazzino esterno, diverso da quello utilizzato per i lavorati, avente capacità limitata. Il rifornimento di materie prime deve essere effettuato una volta al giorno, all’inizio del primo turno.<br />La pasticceria deve assicurare una fornitura minima giornaliera complessiva. Inoltre, a causa di convenzioni con i trasportatori, sono fissati dei limiti minimi e massimi alla quantità totale di lavorati trasportabili dalla pasticceria al centro commerciale alla fine di ogni turno.<br />Pianificare la produzione giornaliera, minimizzando i costi.<br />Formulare il problema, classificarlo e risolverlo con i dati del file PASTICC.TXT.
</p>
<div class='vspace'></div><h3>Dati</h3>
<pre class='escaped'>
1) Costi di produzione (Euro / Kg)

Turno	Lavorato A	Lavorato B
1	12		15
2	8		11.5
3	10		12

2) Costi di magazzino (Euro / Kg)

Lavorato A	1.8
Lavorato B	0.4

3) Composizione dei lavorati (percentuale)

Ingrediente	Lavorato A	Lavorato B
X		20		50
Y		60		10
Z		20		40

4) Volume degli ingredienti (decimetri cubi / Kg)

Ingrediente	Volume
X	20
Y	35
Z	15

5) Capacita' del magazzino:

7100 decimetri cubi

6) Fornitura minima per il centro commerciale:

300 Kg

7) Contratto con i trasportatori: limiti di quantita' trasportabili 
   dopo ogni turno (Kg)

Turno		Minimo	Massimo
1		65		135
2		70		135
3		50		135

8) Affitto del magazzino: 

0.20 Euro / decimetro cubo

9) Aumento della produzione minima: 

5 Kg
</pre>
<div class='vspace'></div><h2>Formulazione del problema</h2>
<h3>Dati</h3>
<ul><li><strong>turni = 3</strong> (numero di turni)
</li><li><strong>lavorati = 2</strong> (numero di lavorati prodotti)
</li><li><strong>mp = 3</strong> (numero di materie prime)
</li><li><strong>cProd<sub>ij</sub></strong> (costo di produzione del lavorato i=1..2 nel turno j=1..3) [€]
</li><li><strong>cMag<sub>i</sub></strong> (costo di immagazzinamento del lavorato i=1..2) [€]
</li><li><strong>comp<sub>ik</sub></strong> (percentuale di materia prima k=1..3 nel lavorato i=1..2) [%]
</li><li><strong>volMP<sub>k</sub></strong> (volume occupato dalla materia prima k=1..3) [dm<sup>3</sup>/Kg]
</li><li><strong>cap = 7100</strong> (capacità del magazzino) [dm<sup>3</sup>]
</li><li><strong>fornMin = 300</strong> (fornitura minima da garantire al centro commerciale) [Kg]
</li><li><strong>trMin<sub>j</sub></strong> (quantità minima di lavorato trasportabile dopo il turno j=1..3) [Kg]
</li><li><strong>trMax<sub>j</sub></strong> (quantità massima di lavorato trasportabile dopo il turno j=1..3) [Kg]
</li></ul><div class='vspace'></div><h3>Variabili</h3>
<ul><li><strong>x<sub>ij</sub></strong> (quantità di lavorato i=1..2 da produrre nel turno j=1..3) [Kg]
</li><li><strong>y<sub>ij</sub></strong> (quantità di lavorato i=1..2 da spedire al centro commerciale dopo il turno j=1..3) [Kg]
</li><li><strong>z<sub>ij</sub></strong> (quantità di lavorato i=1..2 da mandare in magazzino dopo il turno j=1..3) [Kg]
</li><li><strong>w<sub>k</sub></strong> (quantità di materia prima k=1..3 da comprare) [Kg]
</li></ul><p class='vspace'>Le variabili sono continue e non negative.
</p>
<div class='vspace'></div><h3>Funzione obiettivo</h3>
<p>Dobbiamo minimizzare i costi:<br /><strong>min [(somma)<sub>i</sub> (somma)<sub>j</sub> x<sub>ij</sub> * cProd<sub>ij</sub>] + [(somma)<sub>i</sub> (somma)<sub>j</sub> z<sub>ij</sub> * cMag<sub>i</sub>]</strong>
</p>
<p class='vspace'>Importante: nel contributo della produzione si contano tutti e tre i turni, mentre nel contributo del magazzino solo i primi due turni (perché alla fine del terzo turno il magazzino va svuotato).
</p>
<div class='vspace'></div><h3>Vincoli</h3>
<ul><li>vincolo che impone di spedire una quantità minima di lavorato dopo ogni turno:<br /><strong>(somma)<sub>i</sub> y<sub>ij</sub> &gt;= trMin<sub>j</sub></strong> (per ogni j)
</li><li>vincolo che impone di spedire una quantità massima di lavorato dopo ogni turno:<br /><strong>(somma)<sub>i</sub> y<sub>ij</sub> &lt;= trMax<sub>j</sub></strong> (per ogni j)
</li><li>vincolo sulla produzione minima da garantire al centro commerciale:<br /><strong>(somma)<sub>i</sub> (somma)<sub>j</sub> x<sub>ij</sub> &gt;= fornMin</strong>
</li><li>vincolo di capacità del magazzino:<br /><strong>(somma)<sub>i</sub> (somma)<sub>j</sub> z<sub>ij</sub> &lt;= cap</strong>
</li><li>vincolo che impone che le materie prime utilizzate non superino quelle disponibili:<br /><strong>(somma)<sub>i</sub> (somma)<sub>j</sub> comp<sub>ik</sub> * x<sub>ij</sub> &lt;= w<sub>k</sub></strong> (per ogni k)<br />che va Lindizzato spostando tutti i termini non noti a sinistra, e quindi:<br /><strong>(somma)<sub>i</sub> (somma)<sub>j</sub> comp<sub>ik</sub> * x<sub>ij</sub> – w<sub>k</sub> &lt;= 0</strong> (per ogni k)
</li><li>vincoli che impongono la conservazione dei lavorati nei vari turni. Nota bene: l'intero contenuto del magazzino deve essere spedito in giornata, quindi entro e non oltre il terzo turno (nulla rimane del giorno prima)<br />
<ul><li><strong>x<sub>i1</sub> – y<sub>i1</sub> – z<sub>i1</sub> = 0</strong> (per ogni i)
</li><li><strong>z<sub>i1</sub> + x<sub>i2</sub> – y<sub>i2</sub> – z<sub>i2</sub> = 0</strong> (per ogni i)
</li><li><strong>z<sub>i2</sub> + x<sub>i3</sub> – y<sub>i3</sub> = 0</strong> (per ogni i)
</li></ul></li></ul><div class='vspace'></div><h2>Lindizzazione del problema</h2>
<pre class='escaped'>
! esercizio - Pasticceria

! variabili: 	x(i,j) = quantità di lavorato prodotto al turno j [Kg]
! 		y(i,j) = quantità di lavorato spedito dopo il turno j [Kg]
! 		z(i,j) = quantità di lavorato immagazzinato dopo il turno j [Kg]
! 		w(k) = quantità di materie prime acquistate [Kg]
! le variabili sono continue e non negative

! funzione obiettivo;
min 12 x11 + 15 x12 + 8 x21 + 11.5 x22 + 10 x31 + 12 x32 + 1.8 z11 
    + 0.4 z12 + 1.8 z21 + 0.4 z22 

st 

! vincolo di spedizione minima di lavorato 
trMin1) y11 + y12 &gt;= 65 
trMin2) y21 + y22 &gt;= 70 
trMin3) y31 + y32 &gt;= 50

! vincolo di spedizione massima di lavorato 
trMax1) y11 + y12 &lt;= 135 
trMax2) y21 + y22 &lt;= 135 
trMax3) y31 + y32 &lt;= 135 

! vincolo di produzione minima 
produz) y11 + y12 + y21 + y22 + y31 + y32 &gt;= 300 

! vincolo di capacità del magazzino
capacit) 20 q1 + 35 q2 + 15 q3 &lt;= 7100

! vincolo disponibilità materie prime 
dispMP1) 0.2 x11 + 0.2 x21 + 0.2 x31 + 0.5 x12 + 0.5 x22 + 0.5 x32 - q1 &lt;= 0 
dispMP2) 0.6 x11 + 0.6 x21 + 0.6 x31 + 0.1 x12 + 0.1 x22 + 0.1 x32 - q2 &lt;= 0 
dispMP3) 0.2 x11 + 0.2 x21 + 0.2 x31 + 0.4 x12 + 0.4 x22 + 0.4 x32 - q3 &lt;= 0 

! vincolo di conservazione dei lavorati nei vari turni 
cons11) x11 - y11 - z11 = 0 
cons12) x12 - y12 - z12 = 0 
cons21) z11 + x21 - y21 - z21 = 0 
cons22) z12 + x22 - y22 - z22 = 0 
cons31) z21 + x31 - y31 = 0 
cons32) z22 + x32 - y32 = 0 

end
</pre>
<div class='vspace'></div><h2>Altre domande</h2>
<h3>Al direttore della pasticceria viene offerto dello spazio per conservare le materie prime in un magazzino adiacente. L’affitto sarebbe di 0.20 euro per ogni decimetro cubo occupato. La proposta è vantaggiosa? Qual’è il massimo volume di magazzino che è utile affittare? </h3>
<p>Osservando il report della soluzione, vediamo che il prezzo-ombra del vincolo relativo alla capacità del magazzino è 0.352931:
</p>
<div class='vspace'></div><pre class='escaped'>  ROW   SLACK OR SURPLUS     DUAL PRICES
   TRMIN1)         0.000000         -3.100000
   TRMIN2)        65.000000          0.000000
   TRMIN3)        50.000000          0.000000
   TRMAX1)        70.000000          0.000000
   TRMAX2)         0.000000          0.900000
   TRMAX3)        35.000000          0.000000
   PRODUZ)         0.000000        -18.782352
  CAPACIT)         0.000000          0.352941
  ...</pre>
<p class='vspace'>Questo vuol dire che la proposta di 0.20 euro per decimetro cubo è quasi la metà di quello che saremmo disposti a pagare, quindi la proposta è assolutamente vantaggiosa. Per poter dire qual è il massimo volume di magazzino che è utile affittare dovremmo invece fare un'analisi parametrica, fissando ad esempio arbitrariamente il valore della capacità a 100000 e vedere cosa succede:
</p>
<div class='vspace'></div><pre class='escaped'>RIGHTHANDSIDE PARAMETRICS REPORT FOR ROW: CAPACIT

    VAR       VAR    PIVOT    RHS       DUAL PRICE      OBJ
    OUT       IN      ROW     VAL      BEFORE PIVOT     VAL

                            7100.00      0.352941       3208.82
      X12       Z21    14   7550.00      0.352941       3050.00
      X22  SLK    9     7   8400.00      0.247059       2840.00
                            100000.      0.000000E+00   2840.00</pre>
<p class='vspace'>A quanto pare conviene arrivare a 8400 decimetri cubi totali, quindi affittare <strong>8400 – 7100 = 1300</strong> decimetri cubi.
</p>
<div class='vspace'></div><h3>Il direttore del centro commerciale richiede un aumento della produzione minima garantita di 5 Kg. Che aumento comporterebbe nei costi di produzione? La produzione ottima cambierebbe?</h3>
<p>Come si può vedere dall'analisi di sensitività:
</p>
<div class='vspace'></div><pre class='escaped'> RIGHTHAND SIDE RANGES
      ROW         CURRENT        ALLOWABLE        ALLOWABLE
                    RHS          INCREASE         DECREASE
   TRMIN1       65.000000        50.000000        35.000000
   TRMIN2       70.000000        65.000000         INFINITY
   TRMIN3       50.000000        50.000000         INFINITY
   TRMAX1      135.000000         INFINITY        70.000000
   TRMAX2      135.000000        12.058824        35.000000
   TRMAX3      135.000000         INFINITY        35.000000
   PRODUZ      300.000000         5.256410        23.076923
   ...</pre>
<p class='vspace'>La produzione può aumentare di 5.256410 (colonna “allowable increase”) senza che usciamo dalla soluzione ottima. Ovviamente cambierà il valore ottimo, e per scoprire di quanto abbiamo due modi equivalenti: il primo è quello sbrigativo e prevede l'aggiornamento dei dati nel listato in Lindo e la riesecuzione dell'algoritmo risolutivo; il secondo è quello più furbo in generale (non sempre gli algoritmi trovano la soluzione in pochi secondi), e consiste nel controllare il prezzo-ombra relativo al vincolo di produzione e moltiplicarlo per le unità di cui vogliamo incrementarlo. Nel nostro caso il prezzo-ombra vale 18.782352, che moltiplicato per 5 (i 5 kg di cui vogliamo aumentare la produzione) fa <strong>93,91176</strong>.
</p>
<div class='vspace'></div><h3>Il responsabile della qualità, inoltre, riferisce che l’aumento della fornitura minima richiesta richiede una modifica al contratto con i trasportatori, che comprenda un incremento della quantità minima trasportata dopo ciascun turno. Il responsabile propone di aumentare la quantità minima trasportabile durante il primo turno, dato che la richiesta dei trasportatori è la meno stringente, portandola da 65 a 70 Kg. Valutare la sua proposta. Come possono essere modificate le quantità minime trasportate in modo che la produzione ottima non cambi?</h3>
<p>Aumentare la quantità minima trasportabile dopo il primo turno è l'idea peggiore, perché si tratta dell'unico vincolo attivo:
</p>
<div class='vspace'></div><pre class='escaped'> ROW   SLACK OR SURPLUS     DUAL PRICES
   TRMIN1)         0.000000         -3.100000
   TRMIN2)        65.000000          0.000000
   TRMIN3)        55.000000          0.000000</pre>
<p class='vspace'>La conseguenza di questo aumento è tuttavia solo un aumento del valore ottimo (3318.235), ma non della soluzione ottima. Per sapere fino a quanto possiamo aumentare le quantità minime trasportabili senza che quest'ultima cambi, basta guardare la colonna “allowable increase” dell'analisi di sensitività:
</p>
<div class='vspace'></div><pre class='escaped'> RIGHTHAND SIDE RANGES
      ROW         CURRENT        ALLOWABLE        ALLOWABLE
                    RHS          INCREASE         DECREASE

    MIN1       65.000000        50.000000        35.000000
    MIN2       70.000000        65.000000         INFINITY
    MIN3       50.000000        50.000000         INFINITY</pre>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-PL-3nov2004)</span></div>
  </div>
</body>
</html>
