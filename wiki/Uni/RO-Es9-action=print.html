<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Corsi di Laurea</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-Es9.html' title='Corsi di Laurea'>Corsi di Laurea</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
</p><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Corsi di Laurea ::</strong>
</pre><div class='vspace'></div><h2>Testo</h2>
<p>Il Consiglio di Corso di Laurea deve decidere i piani di studio consigliati e per risolvere il problema si affida al ricercatore operativo. Ci sono N corsi attivati e P indirizzi tra cui gli studenti possono scegliere. Ogni corso ha un certo grado di attinenza, variabile da 1 a 10, con ciascuno degli indirizzi. Ogni corso non può comparire in più di K indirizzi (K &lt;= P) e ogni indirizzo deve contenere esattamente M corsi (M&lt;N). Ogni corso deve comparire in almeno un indirizzo.
Il Consiglio vuole massimizzare la misura totale di quanto i corsi sono attinenti agli indirizzi per cui sono consigliati.
Formulare il problema come problema di PLI e risolverlo nel seguente esempio (N=15, P=4, K=3, M=8).
</p>
<div class='vspace'></div><pre class='escaped'>
	Indirizzi	A	B	C	D
Corsi
1			10	8	9	10
2			9	10	9	9
3			10	9	7	7
4			9	10	8	8
5			8	9	7	6
6			8	7	7	6
7			5	7	4	4
8			3	2	2	2
9			4	3	1	1
10			5	6	4	3
11			5	5	5	2
12			6	3	4	3
13			5	5	3	3
14			6	6	3	3
15			5	4	3	4
</pre>
<div class='vspace'></div><h2>Lingo</h2>
<p>Questo esercizio è stato usato per introdurre l'utilizzo di Lingo, per il motivo che c'è un numero spropositato di variabili, e che quindi avrei avuto un sacco di vincoli, una funzione obiettivo satanica e così via. Lingo permette di semplificare le cose, definire matrici e simil-for, facilitandoci quindi la vita.
</p>
<div class='vspace'></div><h3>Il modello</h3>
<p>Il modello inizia con la parola <strong>model</strong> e finisce con <strong>end</strong>.
</p>
<div class='vspace'></div><h3>I commenti</h3>
<p>Attenzione ai commenti! I commenti partono da un <strong>!</strong> e finiscono con un <strong>;</strong> <em>anche se si trovano su righe differenti</em>!!! Questa è la causa principale di errore: uno non capisce quale sia l'errore, e poi si accorge di aver dimenticato un <strong>;</strong> dopo un commento: tutte le righe comprese dal <strong>!</strong> precedente fino a quel <strong>;</strong> saranno considerate commento e non verranno cagate! Beware, innocent kid:)
</p>
<div class='vspace'></div><h3>sets</h3>
<p>I <strong>sets</strong>, cioè gli <strong>insiemi</strong> di variabili. La notazione è un po' balorda:
</p>
<div class='vspace'></div><pre class='escaped'>
biciclette /1..12/;
</pre>
<p class='vspace'>crea, in pratica, bicicletta1, bicicletta2 ... bicicletta12. Almeno è pratico.
</p>
<p class='vspace'>Se voglio definire il <strong>prodotto cartesiano</strong> tra due insiemi, Lingo ci permette di farlo in una riga sola:
</p>
<div class='vspace'></div><pre class='escaped'>
cartesiano (insiemeA, insiemeB);
</pre>
<p class='vspace'>Questo sistema è usato sotto, per generare automaticamente le N*M variabili necessarie a rappresentare il problema.
</p>
<div class='vspace'></div><h3>data</h3>
<p>Nella sezione <strong>data</strong> ci vanno i dati. Posso scrivere allegramente variabili, ma anche matrici.
</p>
<div class='vspace'></div><pre class='escaped'>
var = 100;
matrice = 1 2 3
          4 5 6
          7 8 9;
</pre>
<p class='vspace'>Per quanto riguarda le matrici, le scriviamo in tabella ma non perché Lingo abbia necessità di vederle in tabella, bensì per nostra comodità. Come dicevamo sopra, Lingo ha una particolare affezione per i <strong>;</strong>. Pertanto, fino al <strong>;</strong> lui tratta il tutto come membro della matrice. Inoltre, siccome Lingo per assegnare i dati alle matrici parte dall'indice che cresce meno velocemente, possiamo scriverle per righe.
</p>
<p class='vspace'>C'è un'altra cosa da dire: se nei <strong>sets</strong> voglio creare un insieme, e assegnargli dei dati, posso usare il sistema che in effetti è stato usato nella soluzione qui sotto:
</p>
<div class='vspace'></div><pre class='escaped'>
assegnamenti (corsi,indirizzi): a, x;
</pre>
<p class='vspace'>Questa riga crea un prodotto cartesiano chiamato <strong>assegnamenti</strong>, e dice a Lingo che la matrice <strong>a</strong> è di questa forma, così come la matrice delle variabili <strong>x</strong>. Inoltre, essendo <strong>a</strong> dichiarata sotto, Lingo la carica automaticamente in memoria. <strong>x</strong> invece non è dichiarata da nessuna parte, e quindi Lingo la tratta come variabile (che poi è effettivamente ciò che è).
</p>
<p class='vspace'>Per indicizzare la matrice, si usa la sintassi <strong>x(i,j)</strong> che prende l'elemento con indici <strong>i</strong> e <strong>j</strong> nella matrice <strong>x</strong>.
</p>
<div class='vspace'></div><h3>Sommatorie</h3>
<p>Le sommatorie hanno una sintassi particolare:
</p>
<div class='vspace'></div><pre class='escaped'>
@sum(matrice(indice): assegnamento);
</pre>
<p class='vspace'>Questo rende possibile anche avere le sommatorie di sommatorie, come spesso è capitato nei problemi di RO:
</p>
<div class='vspace'></div><pre class='escaped'>
@sum(corsi(i): @sum(indirizzi(j): a(i,j)*x(i,j)));
</pre>
<div class='vspace'></div><h3>Per ogni</h3>
<p>Il <strong>per ogni</strong>, che pure lui a volte salta fuori nei problemi, è esprimibile in Lingo con questa sintassi:
</p>
<div class='vspace'></div><pre class='escaped'>
@for(matrice(indice): assegnamento);
</pre>
<div class='vspace'></div><h3>Variabili binarie</h3>
<p>Per dichiarare una variabile binaria, Lingo usa <strong>@bin</strong>. Nell'esempio qui sotto il <strong>@bin</strong> è stato usato in associazione con il <strong>@for</strong> per dichiare tante variabili binarie in un colpo solo:
</p>
<div class='vspace'></div><pre class='escaped'>
@for(assegnamenti(i,j): @bin(x(i,j)));
</pre>
<p class='vspace'>Notate la "finezza": faccio scorrere a Lingo la matrice <em>assegnamenti</em>, per il solo motivo di trarne gli indici. Infatti, durante lo scorrimento della matrice, gli indici <strong>i</strong> e <strong>j</strong> vengono aggiornati, e io con la direttiva <strong>@bin</strong> dico a Lingo che gli elementi indicizzati da <strong>i</strong> e <strong>j</strong> sono binari, nella matrice <strong>x</strong>
</p>
<div class='vspace'></div><h3>Variabili intere</h3>
<p>Le variabili intere, più ragionevolmente rispetto a Lindo, si dichiarano con la direttiva <strong>@int</strong>.
</p>
<div class='vspace'></div><h2>Soluzione</h2>
<pre class='escaped'>
! Esercizio corso di laurea;

model:

! Nei sets ci vanno i corsi e gli indirizzi;
sets:
corsi /1..12/;
indirizzi /1..4/;
assegnamenti (corsi,indirizzi): a, x;
endsets

data:
a = 10  8  9 10
     9 10  9  9 
    10  9  7  7
     9 10  8  8
     8  9  7  6
     8  7  7  6
     5  7  4  4
     3  2  2  2
     4  3  1  1
     5  6  4  3
     5  5  5  2
     6  3  4  3;
K = 3;
M = 8;
enddata

! Funzione obiettivo: massimizzare affinità complessiva;
max = @sum(corsi(i): @sum(indirizzi(j): a(i,j)*x(i,j)));


! Vincolo sul numero massimo di indirizzi per ogni corso;
@for(corsi(i): @sum(indirizzi(j): x(i,j)) &lt;= K );

! Vincolo sul numero di corsi per indirizzo;
@for(indirizzi(j): @sum(corsi(i):  x(i,j)) = M);

! Vincolo sul numero minimo di indirizzi in cui deve comparire un corso
@for(corsi(i): @sum(indirizzi(j): x(i,j)) &gt;= 1 );

!Dichiarare le variabili binarie;
@for(assegnamenti(i,j): @bin(x(i,j)));

end
</pre>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-Es9)</span></div>
  </div>
</body>
</html>
