<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod1-Lez4.html' title='Sistemi Operativi'>Sistemi Operativi</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 4</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Connessione delle periferiche</span>
</p>
<div class='vspace'></div><h2>Pag 1</h2>
<h4>Sommario</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Canale di comunicazione</h4>
<p>Sistema di elaborazione e periferiche sono collegate da un canale di comunicazione, composto dal mezzo trasmissivo (cavo fisico, etere, ...) e dai due gestori delegati alla comunicazione, uno per dispositivo.
</p>
<p class='vspace'>La CPU comunica con la periferica tramite un'interfaccia interna alla macchina, composta da due parti:
</p><ul><li>una per la comunicazione con il processore (ordini e/o dati)
</li><li>una per la gestione della comunicazione con la periferica
</li></ul><p class='vspace'>Con l'utilizzo dell'interfaccia diventa possibile astrarre la gestione indipendentemente dalle periferiche utilizzate e dai loro standard e tecnologie (in continua evoluzione).
</p>
<p class='vspace'>Il secondo gestore che compone il canale di comunicazione si trova sulla periferica, che difatti è composta da:
</p><ul><li>una parte per la gestione fisica delle attività interne alla periferica
</li><li>una per la comunicazione con il processore
</li></ul><div class='vspace'></div><h4>Interfaccia nell'unità centrale</h4>
<p>In tale interfaccia sono utilizzati tre registri, gestiti da un'elettronica che riceve ed esegue i comandi inviati dal processore. 
</p>
<p class='vspace'>Come prima cosa il processore verifica in quale stato si trova la periferica, se occupata, se pronta ad eseguire comandi, se li ha svolti con successo, con errori, se non funziona, ... tutte informazioni rappresentate con valori definiti dagli standard di comunicazione e riportati nel <em>registro di stato</em>. Se questo valore rappresenta per lui una risposta sensata, provvede ad inviare un comando all'elettronica che gestisce i registri della periferica.
</p>
<p class='vspace'>I nomi dati al <em>registro comandi</em> e al <em>registro dati</em> possono trarre in inganno: nel registro comandi non vanno i comandi diretti alla periferica (es. stampa, connettiti, vibra, ..), ma quelli diretti all'elettronica che gestisce i registri dell'interfaccia! I comandi veri e propri per la periferica sono passati nel registro dati.
</p>
<p class='vspace'>Quindi nel registro dati vengono scritti sia gli ordini per la periferica, sia eventuali dati provenienti o diretti ad essa; mentre è col registro comandi che rendo possibile le esecuzioni e gli scambi.
</p>
<div class='vspace'></div><h2>Pag 3</h2>
<h4>Controllo dell'interfaccia nell'unità centrale (1)</h4>
<p>Può avvenire per attesa attiva, ovvero il processore legge il registro di stato con un ciclo continuo, finché il valore in esso contenuto non segnala il completamento dell'operazione richiesta (o qualsiasi altro evento il processore stava aspettando). 
</p>
<p class='vspace'>Durante lo stato d'attesa, il processore non fa nulla.
</p>
<div class='vspace'></div><h4>Controllo dell'interfaccia nell'unità centrale (2)</h4>
<p>Se avviene invece attraverso l'utilizzo di interruzioni, il processore una volta dato l'ordine alla periferica (tramite interfaccia) torna a farsi i cazzacci suoi. Completata l'operazione, l'elettronica di gestione della periferica cambierà opportunamente il valore nel registro di stato ed invierà un interrupt alla CPU.
</p>
<p class='vspace'>Il processore sa associare ad ogni interrupt l'interfaccia della periferica che gliel'ha mandata, così da poter gestire la comunicazione col dispositivo corretto.
</p>
<div class='vspace'></div><h2>Pag 4</h2>
<h4>Trasferimento dati</h4>
<p>Quando la mole di dati da trasferire dalla periferica alla CPU (e viceversa) è consistente, spostarla per parole di memoria può essere lento e svantaggioso; molto meglio trasferire per blocchi, ovvero sequenze più o meno estese di parole. Tale operazione è resa possibile da dispositivi DMA (Direct Memory Access) che, una volta dato il comando dal processore, non hanno più bisogno del suo intervento per scambiare dati con la periferica.
</p>
<div class='vspace'></div><h4>Periferica mappata in memoria</h4>
<p>Altro sistema per consentire la trasmissione di un flusso più o meno continuo di dati è associare l'indirizzo della periferica ad alcuni indirizzi della memoria centrale. La comunicazione avviene così in modo più rapido e semplice, dal momento che il processore tratterà l'operazione come un comune accesso alla memoria.
</p>
<p class='vspace'>Questa strategia viene ad esempio utilizzata con le periferiche video.
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Gestione del canale di comunicazione</h4>
<p>Cose già dette.
</p>
<p class='vspace'>Il canale di trasmissione funge solo da trasportatore. Il controllo avviene a bordo della periferica.<br />"Benvenuti a bordo della periferica, qui è il comandante che vi parla. Prego, inserire floppino"
</p>
<div class='vspace'></div><h4>Gestione della periferica</h4>
<p>Il controllo del dispositivo fisico dipende ovviamente dalla periferica. Può essere quindi composto da pochi circuiti o da strutture incredibilmente complesse (basti pensare che alcune stampanti montano processori estremamente raffinati, se non addirittura uno per colore).
</p>
<p class='vspace'>Se dal canale di trasmissione giungono comandi leciti allora la periferica li esegue, altrimenti restituisce un errore.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod1-Lez4)</span></div>
  </div>
</body>
</html>
