<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi - Appunti caotici</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod5-2-Lez2.html' title='Sistemi Operativi - Appunti caotici'>Sistemi Operativi - Appunti caotici</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 2</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Organizzazione del disco</span>
</p>
<div class='vspace'></div><h2>Pag 1</h2>
<h4>Sommario</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Configurazione del disco</h4>
<p>La configurazione del disco consente di definire una struttura logica al disco, così da consentire ai driver di sapere dove e come accedere alle informazioni.
</p>
<div class='vspace'></div><h4>Formattazione fisica</h4>
<p>La <strong>formattazione a basso livello</strong> divide il disco in settori che il controller (un'elettronica a bordo del disco) può leggere e scrivere. Ogni settore è composto da:
</p><ul><li><em>header</em>, una sequenza di bit che definiscono funzioni di servizio per il controller
</li><li><em>zona dati</em>
</li><li><em>terminatore</em>, che indica dove termina il blocco
</li></ul><div class='vspace'></div><h2>Pag 3</h2>
<h4>Partizionamento</h4>
<p>Spesso i dischi sono troppo grossi per essere gestiti come blocchi unici. Il <strong>partizionamento</strong> divide il disco in aree gestite come dischi separati.
</p>
<div class='vspace'></div><h4>Formattazione logica</h4>
<p>La <strong>formattazione logica</strong> è una formattazione ad alto livello del volume logico, che crea tutte quelle strutture dati che consentiranno di vederlo come un <em>file system</em>.
</p>
<p class='vspace'>In alternativa posso usare la partizione come <em>raw disk</em> (disco grezzo), ovvero non applicare nessuna formattazione logica ma vedere lo spazio come un insieme di blocchi uno accanto all'altro. E' la soluzione adottata per realizzare lo spazio di swap, che non necessità di file system dal momento che è il gestore della memoria virtuale ad occuparsi della gestione del suo spazio di indirizzamento.
</p>
<div class='vspace'></div><h2>Pag 4</h2>
<h4>Il blocco di avvio</h4>
<p>Il <strong>boot block</strong> contiene il sistema operativo o una sua parte iniziale, ad esempio il caricatore di primo o secondo livello. Senza di esso il disco non può caricare il sistema operativo, e quindi saranno altri dischi o memorie ROM a preoccuparsene. 
</p>
<p class='vspace'>Il blocco di avvio è contenuto nel settore 0 del disco (il primo ad essere avviato). Nel settore 1 sono invece contenute le strutture dati di base usate come supporto per la gestione del file system, e nei settori successivi avremo la directory radice (che contiene le informazioni sulla radice dell'albero dei DIRETTORI) e i blocchi dati a seguire.
</p>
<div class='vspace'></div><h4>Blocchi difettosi</h4>
<p>I blocchi difettosi sono denominati <strong>bad block</strong>, la cui sostituzione è necessaria per evitare che nessuno di essi venga ritornato dal sistema operativo alle applicazioni. La loro gestione può avvvenire in modi diversi:
</p><ul><li>gestione automatica a livello disco
</li><li>sector sparing, sector forwarding, che in pratica sostituiscono un settore rovinato con un settore funzionante (spare) che era stato preventivamente tenuto da parte. Gestita a livello hardware
</li><li>sector slipping. Gestita a livello hardware
</li></ul><p class='vspace'>Queste sostituzioni lasciano dei buchi nella struttura logica, quindi può essere opportuno rimpiazzare i settori con i blocchi guasti, così che ogni traccia appaia composta da soli blocchi funzionanti.
</p>
<p class='vspace'>Per la gestione dei bad block si enumerano i blocchi in modo specifico per tutto il disco. Ad esempio potrei usare la coppia "n°traccia / n°settore" per identificarli, o usare un unico id progressivo che non faccia menzione della traccia (che sarà il sistema operativo a calcolarsi).
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Uso dell'area di swap</h4>
<p>...
</p>
<div class='vspace'></div><h4>Locazione dell'area di swap</h4>
<p>Dove localizzare l'area di swap? Ho due alternative:
</p><ul><li>su una partizione dedicata gestita in modo raw, soluzione tipicamente utilizzata dai sistemi operativi perché ha un accesso più veloce (bisogna assegnarne il più possibile: non essere tirchi). E' anche detta area di swap statica
</li><li>su file gestiti attraverso le normali funzioni del file system. Questa soluzione è molto meno performante della precedente, dato che le gestioni tramite funzioni di file system comportano più tempo di computazione. E' anche detta area di swap dinamica, perché si possono cambiare le dimensioni cambiando la configurazione del file. Dovrebbe essere l'ultima spiaggia perché è la più lenta; quindi è usata da Windows
</li></ul><div class='vspace'></div><h2>Pag 6</h2>
<h4>Strutturazione dell'area di swap</h4>
<p>...
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod5-2-Lez2)</span></div>
  </div>
</body>
</html>
