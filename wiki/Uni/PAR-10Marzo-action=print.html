<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Protocolli avanzati di rete - Appunti del 10 Marzo</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='PAR-10Marzo.html' title='Protocolli avanzati di rete - Appunti del 10 Marzo'>Protocolli avanzati di rete - Appunti del 10 Marzo</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='ProtocolliAvanzatiDiRete.html'>Torna alla pagina di Protocolli avanzati di rete</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Protocolli avanzati di rete - Appunti del 10 Marzo ::</strong>
</pre><div class='vspace'></div><h2>SONET/SDH: appprofondimenti</h2>
<p>Riprendiamo alcuni concetti che abbiamo visto nella <a class='wikilink' href='PAR-9Marzo.html'>lezione di ieri</a>. La gerarchia <strong>SONET/SDH</strong> è uno standard riconosciuto a livello mondiale per le infrastrutture di rete ottica, i cui scopi sono il trasporto della telefonia e l'interoperabilità tra le aziende telefoniche (chiamate anche <em>carrier</em>).<br />Nota di folklore: il SONET (<em>Synchronous Optical NETwork</em>) è utilizzato solo negli Stati Uniti, dove riescono a garantire velocità di trasmissione più elevate rispetto ad esempio all'Europa. Per quanto riguarda la trattazione che ne faremo possiamo utilizzare i due nomi in modo equivalente.
</p>
<p class='vspace'>Il SONET è basato sulla <em>multiplazione in funzione del tempo</em> (<em>TDM</em>) eseguita byte-by-byte e controllata in modo sincrono da un clock principale che fa da riferimento a tutte le gerarchie. In questo modo si genera una <em>tramatura</em> di byte nella sequenza che viaggia nei trunk, dove per <strong>trama</strong> si intende un insieme di bit che percorre un flusso di circuit switching senza interruzioni di trasmissione. Notare che i bit di tramatura consentono l'accesso ai canali ma non c'entrano nulla con lo switching. L'SDH adotta inoltre una serie di tecniche e procedure applicate a livello 1 ISO/OSI che aumentano la velocità dei collegamenti in fibra ottica e consentono topologie multiple.
</p>
<p class='vspace'>Il sistema SONET è costituito da vari tipi di dispositivi connessi tra loro da fibre ottiche, ognuno con una propria tramatura ricavata da quella principale che viaggia sul canale. Gli apparecchi sono quelli elencati nella lezione precedente, citiamone alcuni:
</p><ul><li><strong>TM</strong> è il <em>terminal mux</em>, il multiplexer/demultiplexer direttamente collegato ai subscribers loop degli utenti
</li><li><strong>ADM</strong> è l<em>'add &amp; drop mux</em>, che (semplificando) aggiunge e toglie telefonate dal trunk a cui è interfacciato
</li><li><strong>DCC</strong> è il <em>digital cross connect</em>, ovvero il punto di separazione che consente il biforcamento dei trunk
</li><li><strong>ripetitore</strong> (praticamente un <em>Matched Node</em>)
</li></ul><p class='vspace'>A seconda del sottolivello SONET a cui appartengono, i dispositivi possono essere considerati:
</p><ul><li><strong>STE</strong> (<em>Section Termination Equipment</em>), dove per <em>sezione</em> si intende un singolo troncone di cavo ottico tra due trasmittenti e riceventi. Un esempio di STE sono i ripetitori, in cui non avviene trasduzione ma sono dispositivi puramente ottici.
</li><li><strong>LTE</strong> (<em>Line Termination Equipment</em>), dove per <em>linea</em> si intende una sequenza di una o più sezioni tali che il segnale interno o la struttura del canale rimangono costanti. Un esempio di LTE sono i digital cross connect
</li><li><strong>PTE</strong> (<em>Path Termination Equipment</em>), dove per <em>percorso</em> si intende un circuito punto-punto che collega due dispositivi terminali, quindi la sorgente e il destinatario. Un PTE è ad esempio il mux/demux, dove il traffico arriva elettrico ed esce ottico, o viceversa.
</li></ul><p class='vspace'>Aiutiamoci con una semplificazione grafica:
</p><div  style='text-align: center;'><img src='../uploads/Uni/sottolivelliSONET.jpg' alt='' title='' /></div>
<p class='vspace'>Ora vediamo invece uno schema più elaborato e corretto (dagli appunti di Damiani):
</p><div  style='text-align: center;'><img src='../uploads/Uni/percorsoSONET.jpg' alt='' title='' /></div>
<p class='vspace'>Notiamo subito che anche in questa rappresentazione sono indicati il percorso, le sezioni e le linee.<br />Entriamo più nello specifico:
</p><ul><li>nel PTE ci sono le apparecchiature del mux/demux, che oltre all'interfacciamento degli utenti consentono di smistare il traffico sincrono della fibra in altri traffici di altri protocolli
</li><li>i ripetitori STE avranno un comportamento diverso a seconda che la linea ottica sia mono-&#955; (cioè con un'unico laser di una certa lunghezza d'onda &#955;) o multi-&#955; (con più laser, tipica delle reti moderne). Nel primo caso lo STE farà Add &amp; Drop e userà un canale multiplexato in TDM per poter inserire un utente locale aggiungendo un byte ogni k; in tutto questo è implicita una trasduzione ottico/elettrica. Nel secondo caso invece gli STE possono dedicarsi al &#955;-mapping, che spiegheremo meglio fra poco
</li><li>gli LTE hanno capacità di connect e possono instradare il percorso verso reti gestite da operatori diversi da quelli del PTE sorgente
</li></ul><p class='vspace'>Abbiamo detto che il <strong>&#955;-mapping</strong> è possibile solo su una rete multi-&#955;, ed è quell'operazione che garantisce l'accesso separato a più flussi di bit utente che condividono la stessa fibra ma che sono trasmessi con laser a &#955; differenti. Tutto ciò permette di far corrispondere una certa &#955; a una sorgente di dati, così da poterla trattare come collegamento di rete e quindi ad esempio collegarla a dei router in fibra (il mapping può avvenire infatti tra interfacce di livello 3 e reti di livello 2). Il <strong>&#955;-switching</strong> invece consente di spostare (commutare) i flussi che viaggiano su una certa &#955; in entrata su un'altra &#955; in uscita.<br />La combinazione di queste due attività garantisce il percorso di instradamento migliore   e una trasmissione più efficiente, soprattutto per quelle dell'ordine dei terabit. Inoltre il &#955;-mapping è un'attività adattativa, quindi con un comportamento configurabile.
</p>
<p class='vspace'>Passiamo ora a considerare il formato del frame.<br />Un frame in una linea <strong>STS-1</strong> SONET/SDH è costituito da 810 byte trasmessi ogni 125 microsecondi con una velocità di banda di 51,84 Mbps. La trama è suddivisa in 9 righe di 90 byte l'una, trasmesse consecutivamente partendo dalla riga più in alto e proseguendo da sinistra a destra. I primi tre byte di ogni riga sono di <em>overhead</em> e contengono informazioni di servizio; nelle prime tre righe si trova l' <em>overhead di sezione</em> (per un totale di 9 byte), mentre dalle righe seguenti si ricava l' <em>overhead di linea</em>.
</p>
<p class='vspace'>In questa ultima parte della lezione parleremo dell'overhead di sezione o <strong>SOH</strong>, prodotto e terminato da tutti (e solo loro) i dispositivi di sessione come i rigeneratori o i multiplexer. Vediamo la funzione e/o le informazioni contenute in ogni byte di cui è composto:
</p><ul><li>(1,2) <strong>A1, A2</strong>: framing di byte. Servono a identificare la tipologia di SOH
</li><li>(3) <strong>J0/Z0</strong>: ID di sessione. Serve a distinguere le sessioni <code class='escaped'>idle</code> da quelle paganti
</li><li>(4) <strong>BIP-8</strong>: <em>Bit Interleaved Party</em>, ovvero il bit di parità
</li><li>(5) <strong>E1 Orderwire</strong>: interfaccia <code class='escaped'>voice craft</code> tra sessioni. Il voice craft è un qualunque tipo di operazione volta al miglioramento della qualità della voce in una comunicazione telefonica, ed è legata in particolare al concetto di <em>echo soppression</em>. L'echo è quella porzione di voce ricevuta che viene reinviata al mittente insieme ai campionamenti della mia voce che gli sto inviando. A livello 2 e 3 è eliminata cercando le similarità tra i pacchetti ricevuti e quelli che ho inviato da poco; la difficoltà non sta tanto nel filtraggio, ma nel decidere quali pacchetti tra quelli inviati devo guardare (quanto indietro devo controllare?). A livello 2 questo calcolo lo si fa piuttosto facilmente dividendo la lunghezza d'onda per la velocità del tratto, ottenendo così il tempo ottimale. Purtroppo invece a livello 3 la chiamata telefonica è mascherata come normale connessione IP, quindi devo mettere nel calcolo anche la variabilità del round-trip-time, e non è così semplice. Skype fa un'ottima echo soppression a livello IP
</li><li>(6) <strong>F1 Utente</strong>: gestione proprietaria, cioè è un byte gestito a piacere dagli operatori
</li><li>(7,8,9) <strong>D1-D3</strong>: è usato per tutti i tipi di link management (funzioni di amministrazione) tra i vari dispositivi di sezione contigui. Per quelli non contigui andranno usati protocolli opportuni, ad esempio posso utilizzare un relay
</li></ul><div class='vspace'></div><hr />
<p><a class='wikilink' href='ProtocolliAvanzatiDiRete.html'>Torna alla pagina di Protocolli avanzati di rete</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/PAR-10Marzo)</span></div>
  </div>
</body>
</html>
