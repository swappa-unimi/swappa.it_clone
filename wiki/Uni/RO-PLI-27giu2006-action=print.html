<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Ricerca Operativa - PLI - Arbitri - 27.06.06</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-PLI-27giu2006.html' title='Ricerca Operativa - PLI - Arbitri - 27.06.06'>Ricerca Operativa - PLI - Arbitri - 27.06.06</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - PLI - Arbitri - 27.06.06 ::</strong>
</pre><div class='vspace'></div><h2>Testo del problema</h2>
<p>In seguito allo scandalo sulle designazioni arbitrali truccate, la Lega Calcio ha deciso di inaugurare un nuovo sistema, affidando ad un algoritmo di ottimizzazione le designazioni degli arbitri per i campionati di calcio. Noto il calendario delle partite e noto un insieme di arbitri disponibili, si vuole assegnare un arbitro ad ogni partita. Ovviamente lo stesso arbitro non può arbitrare più di una partita nella stessa giornata di campionato; inoltre ogni partita ha bisogno di un solo arbitro (non si considerano qui i guardalinee ed il “quarto uomo”).<br />Per garantire equità si vuole che il numero complessivo di volte che ogni arbitro viene assegnato ad ogni squadra sia il più uniforme possibile. In altri termini si vuole minimizzare la differenza tra il massimo ed il minimo numero di volte che uno degli arbitri viene assegnato ad una delle squadre nell’arco di tutto il campionato.<br />Formulare il problema, classificarlo e risolverlo con i dati del file ARBITRI.TXT, discutendo l’ottimalità e l’unicità della soluzione ottenuta.
</p>
<div class='vspace'></div><h3>Dati</h3>
<pre class='escaped'>
Considerare un mini-campionato giocato da 6 squadre in un unico girone 
all'italiana. Il calendario è il seguente:

Giornata 1
AAA - FFF
BBB - EEE
CCC - DDD

Giornata 2
AAA - DDD
BBB - FFF
CCC - EEE

Giornata 3
AAA - BBB
CCC - FFF
DDD - EEE

Giornata 4
AAA - EEE
BBB - CCC
DDD - FFF

Giornata 5
AAA - CCC
BBB - DDD
EEE - FFF

Si consideri il caso con 3 arbitri 
</pre>
<div class='vspace'></div><h2>Formulazione del problema</h2>
<h3>Dati</h3>
<ul><li><strong>nSquad = 6</strong> (numero di squadre nel campionato)
</li><li><strong>nGiorn = 5</strong> (numero di giornate di campionato)
</li><li><strong>nArbitri = 3</strong> (numero arbitri)
</li><li><strong>giornata<sub>ijw</sub></strong> (indica quali squadre w=1..6 giocano nella partita j=1..3 della giornata i=1..5) (nota: le partite sono 3 perché il numero di squadre è 6, quindi due per partita viene 3)
</li></ul><div class='vspace'></div><h3>Variabili</h3>
<ul><li><strong>x<sub>ijk</sub></strong> (indica se l'arbitro k=1..3 è assegnato alla partita j=1..3 nella giornata i=1..5)
</li></ul><p class='vspace'>La variabile è binaria.
</p>
<div class='vspace'></div><h3>Funzione obiettivo</h3>
<p>Si vuole minimizzare la differenza tra il massimo e il minimo numero di volte in cui un arbitro viene assegnato ad una squadra nell'arco dell'intero campionato. Introduciamo le variabili ausiliarie maxn e minn che definiremo poi nei vincoli:<br /><strong>min maxn - minn</strong>
</p>
<div class='vspace'></div><h3>Vincoli</h3>
<ul><li>vincolo perché ci sia un arbitro per ogni partita j di ogni giornata i:<br /><strong>(somma)<sub>k</sub>  x<sub>ijk</sub> = 1</strong> (per ogni i e per ogni j)
</li><li>vincolo perché lo stesso arbitro k non possa essere assegnato a più di una partita j in una stessa giornata i:<br /><strong>(somma)<sub>j</sub>  x<sub>ijk</sub> &lt;= 1</strong> (per ogni k e per ogni i)
<div class='vspace'></div></li><li>vincolo per definire maxn, ovvero il massimo numero di volte in cui un arbitro viene assegnato ad una squadra nell'arco dell'intero campionato:<br /><strong>maxn &gt;= (somma)<sub>i</sub> (somma)<sub>j</sub> giornata<sub>ijw</sub> * x<sub>ijk</sub></strong> (per ogni w e per ogni k)
</li><li>vincolo per definire minn, ovvero il minimo numero di volte in cui un arbitro viene assegnato ad una squadra nell'arco dell'intero campionato:<br /><strong>minn &lt;= (somma)<sub>i</sub> (somma)<sub>j</sub>  giornata<sub>ijw</sub> * x<sub>ijk</sub></strong> (per ogni w e per ogni k)
</li></ul><div class='vspace'></div><h2>Linghizzazione del problema</h2>
<pre class='escaped'>
! problema - Arbitri;

model:

sets:
squadra  /1..6/;
giornata /1..5/;
arbitro  /1..3/;
partita  /1..3/;
assegnamento (giornata,partita,arbitro): x;
calendario (giornata,partita,squadra): cal;
endsets

data:
cal = 
1 0 0 0 0 1
0 1 0 0 1 0
0 0 1 1 0 0

1 0 0 1 0 0
0 1 0 0 0 1
0 0 1 0 1 0

1 1 0 0 0 0 
0 0 1 0 0 1
0 0 0 1 1 0

1 0 0 0 1 0
0 1 1 0 0 0
0 0 0 1 0 1

1 0 1 0 0 0
0 1 0 1 0 0
0 0 0 0 1 1;
enddata

! funzione obiettivo;
min = maxn - minn;

! deve esserci un arbitro per ogni partita;
@for(giornata(i):
   @for(partita(j): 
      @sum(arbitro(k): x(i,j,k)) = 1
   )
);

! un arbitro non può essere assegnato a più partite la stessa giornata;
@for(arbitro(k): 
   @for(giornata(i): 
      @sum(partita(j): x(i,j,k)) &lt;= 1
   )
);

! definiamo maxn: massimo numero di volte in cui un arbitro è assegnato
			alla stessa squadra;
@for(squadra(w):
   @for(arbitro(k):
	maxn &gt;= @sum(giornata(i): 
			@sum(partita(j):
            	   cal(i,j,w) * x(i,j,k)
	            )
      	  )
   )
);

! definiamo minn: minimo numero di volte in cui un arbitro è assegnato
			alla stessa squadra;
@for(squadra(w):
   @for(arbitro(k):
	minn &lt;= @sum(giornata(i): 
		     @sum(partita(j):
                   cal(i,j,w) * x(i,j,k)
                 )
              )
   )
);

! dichiarazione variabile binaria x;
@for(assegnamento(i,j,k): @bin(x(i,j,k)));

end
</pre>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-PLI-27giu2006)</span></div>
  </div>
</body>
</html>
