<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi - Appunti caotici</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod3-4-Lez4.html' title='Sistemi Operativi - Appunti caotici'>Sistemi Operativi - Appunti caotici</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 4</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Comunicazione con scambio di messaggi</span>
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Modello della comunicazione a messaggi</h4>
<p>In questa tecnica il processo mittente genererà le informazioni da trasmettere e le invierà, mediante messaggi, al processo ricevente. La politica utilizzata sarà la FCFS.
</p>
<div class='vspace'></div><h4>Messaggi</h4>
<p>Il contenuto dei messaggi può contenere diverse informazioni che sono:
</p><ul><li>Identità del processo mittente;
</li><li>Identità del processo ricevente;
</li><li>Informazioni da trasmettere;
</li><li>Eventuali informazioni relative alla gestione dello scambio di messaggi.
</li></ul><div class='vspace'></div><h2>Pag 3</h2>
<h4>Buffer</h4>
<p>Il sistema operativo può assegnare buffer:
</p><ol><li>ad ogni coppia di processi, in modo esplicito;
</li><li>di uso generale, ovvero un unico pool di buffer che il sistema operativo mette indistintamente a disposizione per i vari processi. C'è però da considerare il fatto che questa scelta potrebbe risultare rischiosa, nel caso in cui avessi più applicazioni aperte.
</li></ol><p class='vspace'>La quantità di buffer assegnati dal sistema operativo può essere:
</p><ul><li>Illimitata: il processo mittente appena possiede un messaggio lo deposita immediatamente nel buffer. Non è mai bloccante;
</li><li>Limitata: il processo mittente potrebbe aspettare prima di depositare il messaggio nel caso in cui non ci siano buffer liberi. Risulta quindi bloccante se manca spazio disponibile;
</li><li>Nulla: il processo mittente non può depositare alcun messaggio, dato che non ci sono buffer disponibili in cui deporlo. E' sempre bloccante. Da notare come il processo ricevente non trovi alcun messaggio da leggere, ma il processo mittente in attesa di deporlo; ciò potrebbe permettere l'instaurarsi di una comunicazione diretta
</li></ul><div class='vspace'></div><h4>Funzioni (1)</h4>
<p>Per permettere l'invio e la ricezioni di messaggi sono state messe a disposizioni determinate funzioni:
</p>
<p class='vspace'><strong>Invio:</strong> <em>send(proc_ricevente, messaggio)</em>. 
</p>
<p class='vspace'>Deposita il messaggio in un buffer libero. La funzione è bloccante, ovvero blocca il processo mittente nel caso in cui non ci fossero buffer liberi. Una volta liberato un buffer il processo mittente potrà depositare il messaggio e la funzione sbloccherà il mittente.
</p>
<p class='vspace'>Con questa funzione il processo mittente manda il messaggio e non se ne preoccupa più: se non c'è spazio nel buffer aspetta tutto il tempo che gli serve.
</p>
<div class='vspace'></div><h2>Pag 4 </h2>
<h4>Funzioni(2)</h4>
<p><strong>Ricezione:</strong> <em>receive(proc_mittente, messaggio)</em>. 
</p>
<p class='vspace'>Riceve il messaggio presente nel buffer. Tale funzione è bloccante, ovvero blocca il ricevente fino a quando non c'è un messaggio nel buffer.
</p>
<div class='vspace'></div><h4>Funzioni (3)</h4>
<p>Nel caso non si voglia una chiamata bloccante si effettuano delle chiamate di invio e ricezione condizionale.
</p>
<p class='vspace'><strong>Invio condizionale:</strong> <em>cond_send(proc_ricevente, messaggio): error status</em>. 
</p>
<p class='vspace'>A differenza della funzione di invio precedente questa funzione non è bloccante, ovvero se al momento di depositare il messaggio non è presente alcun buffer libero ritornerà un messaggio di errore e il messaggio non sarà più depositato, ma sarà responsabilità del mittente decidere se rimandarlo o meno.
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Funzioni (4)</h4>
<p>Quindi si avrà anche una 
<strong>Ricezione condizionale:</strong> <em>con_receive(proc_mittente, messaggio): error status</em>.
</p>
<p class='vspace'>Allo stesso modo il processo ricevente preleverà il messaggio dal buffer, se non ci sono messaggi ritornerà una condizione di errore, non ricevendo alcun messaggio.
</p>
<div class='vspace'></div><h4>Sincronizzazione dei processi comunicanti</h4>
<p>Come sempre ci devono essere delle politiche di sincronizzazione per evitare dati inconsistenti. Ci possono essere due tipi di comunicazioni:
</p><ol><li><em>Comunicazioni asincrone:</em> queste chiamate sono bloccanti solo se l'operazione non può essere completata, l'invio avviene indipendentemente da ciò che sta facendo il processo ricevente. In altre parole, quando P manda il messaggio non sa a che punto della computazione sia arrivato Q, dato che può mandarlo in qualsiasi momento;
</li><li><em>Comunicazioni sincrone:</em> queste comunicazioni sono possibili quando tutti e due i processi sono pronti per lo scambio di informazioni (quindi il processo mittende spedirà le informazioni e il processo ricevente sarà subito pronto per prelevarle). Nel caso in cui il processo mittente arrivi per primo si dovrà fermare ed aspettare il processo ricevente.
</li></ol><div class='vspace'></div><h2>Pag 6</h2>
<h4>Identificazione dei processi comunicanti</h4>
<p>Utilizzando la tecnica dello scambio di messaggi per la comunicazione dei processi devo identificare i processi che vogliono comunicare. Posso avere due tipi di comunicazione:
</p><ol><li><em>Comunicazione simmetrica:</em> è il caso in cui dico esplicitamente chi è il processo mittente e chi è il processo ricevente (comunicazione diretta);
</li><li><em>Comunicazione asimmetrica:</em> in questo caso il processo mittente o il processo ricevente possono non essere identificati univocamente. Posso quindi ricevere messaggi da un processo di un gruppo specificato oppure da un gruppo qualsiasi. Allo stesso modo posso inviare messaggi a un processo di un gruppo specificato oppure a un processo qualsiasi.
</li></ol><div class='vspace'></div><h4>Caratteristiche e problemi</h4>
<p>I problemi che sorgono sono immediati:
</p><ul><li>Come faccio ad indentificare i processi che vogliono comunicare?
</li><li>Non vi è alcuna memoria condivisa fra i processi;
</li><li>Le operazioni di sincronizzazione degli accessi è gestita implicitamente dal sistema operativo.
</li></ul><div class='vspace'></div><h2>Pag 7</h2>
<h4>Implementazione</h4>
<p>Per risolvere i problemi elencati precendentemente posso implementare i buffer direttamente nello spazio di indirizzamento del sistema operativo, definendo il numero dei buffer che voglio utilizzare. Utilizzando quest'implementazione risolvo anche il problema dell'identificazione dei processi che inviano informazione, dato che mi basta vedere qual è il processo attivo, in quanto colui che ha fatto richiesta si troverà sicuramente nello stato di running.
</p>
<p class='vspace'>I messaggi vengono normalmente smaltiti in modalità FIFO, ma potrebbero essere previste politiche di altro tipo (ad esempio con priorità, fissando deadline, ecc)
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod3-4-Lez4)</span></div>
  </div>
</body>
</html>
