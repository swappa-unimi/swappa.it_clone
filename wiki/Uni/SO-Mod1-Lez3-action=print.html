<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod1-Lez3.html' title='Sistemi Operativi'>Sistemi Operativi</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 3</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Memoria</span>
</p>
<div class='vspace'></div><h2>Pag 1</h2>
<h4>Sommario</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Registri del processore</h4>
<p>Sono posti direttamente all'interno della CPU. Alcune ne hanno una decina, altre centinaia; il numero dipende dall'architettura del processore.
</p>
<p class='vspace'>L'accesso diretto è ottenuto specificando nell'istruzione macchina il nome del registro da utilizzare.
</p>
<p class='vspace'>La capacità è molto ridotta, tipicamente di una parola di memoria. Quindi, se ho ad esempio un processore da 32 bit, la sua parola sarà di quella dimensione.
</p>
<div class='vspace'></div><h4>Memoria cache</h4>
<p>E' una memoria temporanea come quella dei registri, e dedicata per il processore. 
</p>
<p class='vspace'>Al suo interno vengono copiate (dalla memoria centrale) porzioni di memoria di uso frequente, così quando la CPU vorrà leggere in quegli indirizzi non dovrà fare altro che copiare le istruzioni direttamente dalla cache. Grazie ai tempi di accesso molto rapidi, si eliminano i tempi di attesa dovuti al trasferimento dei dati tra i due componenti. E' grazie ad appositi controlli che i circuiti elettronici del processore capiscono se le istruzioni  cui punta il loro Program Counter sono presenti o meno nelle cache.
</p>
<p class='vspace'>Se il Program Counter punta a un'istruzione non contenuta nella cache, vengono automaticamente "scaricati" al suo interno le istruzioni successive del blocco, in previsione di un utilizzo futuro.
</p>
<p class='vspace'>Le cache possono essere sia interne (sullo stesso circuito del processore) o esterne, ovvero montate su un chip aggiutivo dedicato fisicamente separato dalla CPU. Pur essendone separato, è comunque caratterizzato da tempi di accesso molto più veloci rispetto alla memoria. Può essere utile in quanto più capiente della cache interna, nella quale potrebbero non starci i dati sensibili.
</p>
<p class='vspace'>Da notare che dal punto di vista logico accedere alla cache è come accedere alla memoria centrale.
</p>
<div class='vspace'></div><h2>Pag 3</h2>
<h4>Memoria centrale</h4>
<p>Contiene le informazioni e i dati da far eseguire al processore (è qui infatti che punta il Program Counter).
</p>
<p class='vspace'>Dal punto di vista funzionale è indispensabile (perché il processore non saprebbe caricare istruzioni da nessun'altra parte, cache escluse), a differenza delle memorie cache il cui unico scopo è rendere le macchine più efficienti e rapide.
</p>
<p class='vspace'>Al contrario dei registri, identificati da un nome specifico (es. R1, R2, ...), nella memoria si utilizzano gli indirizzi. Ciò che cambia è solo il tipo di identificatore utilizzato, ma ottengo comunque un accesso diretto.
</p>
<p class='vspace'>Rispetto ai registri, il tempo di accesso alla memoria varia circa di un ordine di grandezza.
</p>
<div class='vspace'></div><h4>Memoria di massa: dischi magnetici</h4>
<p>Le memorie di massa possono essere realizzate con diverse tecnologie, ognuna delle quali con caratteristiche (implementative, funzionali) proprie. Sono necessarie perché la memoria centrale ha comunque una dimensione limitata e potrebbero non starci tutti i dati e i programmi di cui ho bisogno.
</p>
<p class='vspace'>Il tipo di accesso può essere sia diretto che sequenziale. <em>Diretto</em> perché se sappiamo qual è la parola di memoria che ci interessa, possiamo dire al dispositivo di posizionare le testine di lettura/scrittura sulla sezione corrispondente (tradotto: non devo leggere per forza tutti i byte del disco, ma posso passare <em>direttamente</em> al blocco desiderato). <em>Sequenziale</em> perché posso anche scaricare un byte dopo l'altro, in sequenza appunto.
</p>
<p class='vspace'>Per come sono costruite, non è possibile leggere la singola parola, ma si è costretti a leggere un intero blocco.
</p>
<p class='vspace'>Il tempo di accesso è circa un paio d'ordini di grandezza più lento rispetto alla memoria centrale.
</p>
<div class='vspace'></div><h2>Pag 4</h2>
<h4>Memoria di massa: dischi ottici</h4>
<p>...
</p>
<div class='vspace'></div><h4>Memoria di massa: nastri magnetici</h4>
<p>Sono caratterizzati da tempi di accesso molto lenti, determinati dalla loro struttura elettro-meccanica.
</p>
<p class='vspace'>L'accesso è solo di tipo sequenziale. Devo infatti partire dall'inizio del nastro e andare avanti a leggere fino ad arrivare alla parte di interesse (buttando via via i byte che non mi interessano).
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Gerarchia di memoria</h4>
<p>...
</p>
<div class='vspace'></div><h4>Caching</h4>
<p>Il caricamento e lo scaricamento delle porzioni di memoria nelle cache viene gestito generalmente in automatico dall'hardware.
</p>
<p class='vspace'>La coerenza delle informazioni è una proprietà (un vincolo) da rispettare sempre. Se andiamo infatti a fare una modifica nell'area di cache, bisogna provvedere ad apportare la stessa modifica anche nella memoria centrale. In caso contrario avrei informazioni obsolete o modifiche perse.
</p>
<p class='vspace'>Se modifico più volte uno stesso byte nell'area di cache, non conviene aggiornare la memoria centrale ad ogni minimo cambiamento: lo faccio una sola volta alla fine. Prima di eliminare dei dati modificati dall'area di cache, è dunque necessario ricopiarli aggiornati nella memoria centrale. Questi aggiornamenti delle modifiche avvengono generalmente a livello hardware.
</p>
<div class='vspace'></div><h2>Pag 6</h2>
<h4>Protezione della memoria</h4>
<p>Premessa: per come sono strutturate le macchine di Paul Newman, un processore non può prelevare le istruzioni dalle memorie di massa.
</p>
<p class='vspace'>Se nella memoria centrale sono caricate le istruzioni di un unico programma (che può risolvere al più diverse istanze dello stesso problema), si parla di sistemi di elaborazione dedicati. Ad esempio, la lavatrice. In questo caso, il programma è il padrone esclusivo di tutte le risorse.
</p>
<p class='vspace'>La <em>multiprogrammazione</em> prevede invece il caricamento di più programmi nella memoria centrale, per spremere al meglio la potenza di calcolo del processore. In questo modo vengono infatti sfruttati tutti quei tempi morti in cui il processo di un certo programma non ha niente da fare, eseguendone altri.
</p>
<p class='vspace'>Per garantire che i programmi vengano eseguiti in modo corretto e che i suoi dati non vengano letti da altri, inserisco dei meccanismi per confinarne l'accesso a specifiche limitate aree di memoria. 
</p>
<p class='vspace'>Dato che la memoria centrale non implementa in modo nativo alcun sistema di protezione, dovrò utilizzare un supporto hardware dedicato: le MMU.
</p>
<div class='vspace'></div><h4>Protezione della memoria centrale</h4>
<p>La MMU è un circuito dedicato che si frappone tra CPU e memoria centrale verificando la leicità degli accessi. 
</p>
<p class='vspace'>Quando il processore chiede un'istruzione contenuta in un certo indirizzo, la MMU verifica che questo sia compreso tra gli indirizzi estremi in cui il programma chiamante è stato caricato. Se sì, consente l'accesso all'istruzione/dato puntata, no altrimenti.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod1-Lez3)</span></div>
  </div>
</body>
</html>
