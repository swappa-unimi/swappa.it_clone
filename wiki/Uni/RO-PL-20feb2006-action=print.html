<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Ricerca Operativa - PL - Radioterapia - 20.02.06</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-PL-20feb2006.html' title='Ricerca Operativa - PL - Radioterapia - 20.02.06'>Ricerca Operativa - PL - Radioterapia - 20.02.06</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - PL - Radioterapia - 20.02.06 ::</strong>
</pre><div class='vspace'></div><h2>Testo del problema</h2>
<p>Nel trattamento anti-tumorale con radioterapia è possibile irraggiare la parte malata da diverse posizioni ed angolature e con diverse intensità. Per ognuna di queste possibilità tuttavia bisogna tener conto degli effetti collaterali nocivi che il trattamento provoca sugli organi adiacenti la massa tumorale.<br />Si supponga di conoscere un insieme discreto di possibilità di irraggiamento di un tumore e e di voler decidere con quale intensità effettuare l’irraggiamento per ciascuna di esse. Si considerano un dato numero di organi adiacenti da preservare e per ogni possibilità di irraggiamento è noto un coefficiente che esprime la percentuale di radiazione che colpirebbe il tumore e la percentuale di radiazione che colpirebbe ciascuno degli organi adiacenti.<br />La quantità totale di radiazioni usabile nel trattamento è limitata e ci sono soglie massime anche sulle quantità riferite ad ogni singola possibilità di irraggiamento.<br />Si vuole massimizzare l’effetto delle radiazioni sul tumore, cioè la quantità totale di radiazioni assorbite dal tumore, nel rispetto di alcune soglie massime di tolleranza per i livelli di radiazione assorbiti da ciascun organo adiacente.<br />Formulare il problema, classificarlo e risolverlo con i dati del file TERAPIA.TXT.
</p>
<div class='vspace'></div><h3>Dati</h3>
<pre class='escaped'>
Le posizioni da cui è possibile irraggiare il tumore sono 5.
Gli organi adiacenti il tumore sono 7.

Tabella 1: Coefficienti di assorbimento delle radiazioni [%]

Posizione    1        2         3        4        5
tumore     0.4      0.3      0.25      0.7      0.5   
organo 1   0.1      0.0      0.0       0.1      0.2    &lt;=  55
organo 2   0.1      0.0      0.15      0.0      0.1    &lt;=  90
organo 3   0.0      0.1      0.0       0.0      0.0    &lt;=  60
organo 4   0.0      0.2      0.1       0.1      0.0    &lt;=  24
organo 5   0.1      0.0      0.2       0.0      0.1    &lt;=  70
organo 6   0.1      0.3      0.15      0.1      0.1    &lt;=  55
organo 7   0.2      0.1      0.15      0.0      0.0    &lt;=  95

Tabella 2: Limiti massimi di tolleranza per ogni organo

organo 1     55
organo 2     90
organo 3     60
organo 4     24
organo 5     70
organo 6     55
organo 7     95

Tabella 3: Limiti massimi di radiazione erogabile per ogni posizione

Posizione Limite
  1        120
  2        130
  3        100
  4        150
  5        150

Limite massimo complessivo per le radiazioni = 600
</pre>
<div class='vspace'></div><h2>Formulazione del problema</h2>
<h3>Dati</h3>
<ul><li><strong>p = 5</strong> (numero posizioni)
</li><li><strong>t = 8 </strong> (numero target irraggiamento: 1 tumore + 7 organi adiacenti)
</li><li><strong>coefAss<sub>ij</sub></strong> (coefficienti di assorbimento del target i=1..8 dalla posizione j=1..5) [%]
</li><li><strong>limToll<sub>i</sub></strong> (limite di tolleranza per il target i=1..8)
</li><li><strong>limErog<sub>j</sub></strong> (limite di radiazione erogabile per la posizione j=1..5)
</li><li><strong>limRad = 600</strong> (limite massimo complessivo per le radiazioni)
</li></ul><div class='vspace'></div><h3>Variabili</h3>
<p><strong>x<sub>j</sub></strong> (quantità di radiazione erogata nella posizione j=1..5)
</p>
<p class='vspace'>La variabile è continua e non negativa.
</p>
<div class='vspace'></div><h3>Funzione obiettivo</h3>
<p>Vogliamo massimizzare il totale di radiazioni assorbite dal tumore. Notare che i coefficienti di assorbimento utilizzati sono tutti relativi al target 1 (il tumore) nelle varie posizioni.<br /><strong>max (somma)<sub>j</sub> x<sub>j</sub> * coefAss<sub>1j</sub></strong>
</p>
<div class='vspace'></div><h3>Vincoli</h3>
<ul><li>vincolo sul limite massimo complessivo di radiazioni erogabili:<br /><strong>(somma)<sub>j</sub>  x<sub>j</sub> &lt;= limRad</strong>
</li><li>vincolo sul limite massimo di tolleranza degli organi:<br /><strong>(somma)<sub>j</sub>  x<sub>j</sub> * coefAss<sub>ij</sub> &lt;= limToll<sub>i</sub></strong> (per ogni target i=2..8)
</li><li>vincolo sul limite massimo di radiazioni erogabili per ogni posizione:<br /><strong>x<sub>j</sub> &lt;= limErog<sub>j</sub></strong> (per ogni j=1..5)
</li></ul><div class='vspace'></div><h2>Lindizzazione del problema</h2>
<pre class='escaped'>! esercizio – Radioterapia

! variabili: x(j) = quantità di radiazione erogata nella posizione j
! la variabile è continua e non negativa

! funzione obiettivo
max 0.4 x1 + 0.3 x2 + 0.25 x3 + 0.7 x4 + 0.5 x5 

st 

! vincolo sul limite massimo complessivo di radiazioni erogabili
limMax) x1 + x2 + x3 + x4 + x5 &lt;= 600 

! vincoli sul limite massimo di tolleranza degli organi
organo1) 0.1 x1 + 0.0 x2 + 0.0  x3 + 0.1 x4 + 0.2 x5 &lt;=  55 
organo2) 0.1 x1 + 0.0 x2 + 0.15 x3 + 0.0 x4 + 0.1 x5 &lt;=  90 
organo3) 0.0 x1 + 0.1 x2 + 0.0  x3 + 0.0 x4 + 0.0 x5 &lt;=  60 
organo4) 0.0 x1 + 0.2 x2 + 0.1  x3 + 0.1 x4 + 0.0 x5 &lt;=  24 
organo5) 0.1 x1 + 0.0 x2 + 0.2  x3 + 0.0 x4 + 0.1 x5 &lt;=  70 
organo6) 0.1 x1 + 0.3 x2 + 0.15 x3 + 0.1 x4 + 0.1 x5 &lt;=  55 
organo7) 0.2 x1 + 0.1 x2 + 0.15 x3 + 0.0 x4 + 0.0 x5 &lt;=  95 

! vincoli sui limiti massimi di radiazione erogabili per ogni posizione 
limPos1) x1 &lt;= 120 
limPos2) x2 &lt;= 130 
limPos3) x3 &lt;= 100 
limPos4) x4 &lt;= 150 
limPos5) x5 &lt;= 150 

end
</pre>
<div class='vspace'></div><h2>Altre domande</h2>
<h3>Nell’ipotesi di poter eccedere una delle soglie di tolleranza relative agli organi adiacenti, dire quale converrebbe violare per avere il miglior risultato sul tumore.</h3>
<p>Dobbiamo scegliere tra le soglie attive all'ottimo, ovvero quelle con prezzo ombra diverso da 0. 
</p>
<div class='vspace'></div><pre class='escaped'>ROW   SLACK OR SURPLUS     DUAL PRICES
   LIMMAX)       100.000000          0.000000
  ORGANO1)         0.000000          2.500000
  ORGANO2)        50.500000          0.000000
  ORGANO3)        60.000000          0.000000
  ORGANO4)         0.000000          2.500000
  ORGANO5)        26.000000          0.000000
  ORGANO6)         0.500000          0.000000
  ORGANO7)        57.500000          0.000000</pre>
<p class='vspace'>Nel nostro caso ne abbiamo solo due, ovvero quelle relative agli organi 1 e 4. Come scegliere tra le due? I prezzi ombra non ci aiutano dato che sono uguali, l'analisi di sensitività non ci dice nulla sul come cambierebbe il valore ottimo rimuovendo il vincolo, quindi facciamo l'analisi parametrica di entrambi i vincoli e confrontiamo tra le soluzioni ottenute qual è la migliore.
</p>
<p class='vspace'>Organo 1:
</p><pre class='escaped'>RIGHTHANDSIDE PARAMETRICS REPORT FOR ROW: ORGANO1

    VAR       VAR    PIVOT    RHS       DUAL PRICE      OBJ
    OUT       IN      ROW     VAL      BEFORE PIVOT     VAL

                            55.0000       2.50000       245.500
 SLK    8  SLK    6     8   56.0000       2.50000       248.000
 SLK   14  SLK    3    10   57.0000       1.66667       249.667
                            1000.00      0.000000E+00   249.667</pre>
<p class='vspace'>Eliminando il vincolo sull'organo 1 raggiungiamo un valore di 249.667
</p>
<p class='vspace'>Organo 4:
</p><pre class='escaped'>RIGHTHANDSIDE PARAMETRICS REPORT FOR ROW: ORGANO4

    VAR       VAR    PIVOT    RHS       DUAL PRICE      OBJ
    OUT       IN      ROW     VAL      BEFORE PIVOT     VAL

                            24.0000       2.50000       245.500
 SLK    8  SLK    6     8   24.3333       2.50000       246.333
                            1000.00      0.000000E+00   246.333</pre>
<p class='vspace'>Eliminando il vincolo sull'organo 4 raggiungiamo un valore di 246.333
</p>
<p class='vspace'>Quindi conviene eliminare il vincolo sull'organo 1.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-PL-20feb2006)</span></div>
  </div>
</body>
</html>
