<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Swappa :: Temi Esame TW 12 </title>
	<meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
	<meta http-equiv='Content-Language' content='it' />
	<meta http-equiv='Content-Style-Type' content='text/css' />
	<meta http-equiv="imagetoolbar" content="no" />
	<meta name="robots" content="noarchive" />
	<meta name="verify-v1" content="W0mbMJBKN/iA23fcLw5UzRqXfwbh0SdGZ62YJgVCtqg=" />
	<meta name='description' content="Wiki creato da e per gli studenti del DTI dell'Università di Crema (Informatica, Sicurezza, DTI). Contiene appunti, riassunti, guide, esercizi, temi d'esame."  />
	<meta name='keywords' content="wiki, università, studenti, crema, appunti, riassunti, guide, informatica, sicurezza, esami, programmazione, recensioni, esercizi, progetti" />
	
  <link rel='icon' href='../pub/skins/sticWin/sticWinicon.gif.html' type='image/gif' />
  <link rel='SHORTCUT ICON' href='../pub/skins/sticWin/sticWinicon.gif.html' />
	<!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='index,follow' />
  <link rel='stylesheet' href='../pub/skins/sticWin/sticWin.css' type='text/css' />
  
</head>

<body>
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-5744461-3']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>

	<!--PageHeaderFmt-->
	<table summary='Site: Header' id='siteheadtable' width='960'
	cellpadding='0' cellspacing='0' border='0' align='center'>
		<tr>
			<td colspan='2' id='navi'>
			<table width='420' cellpadding='0' cellspacing='0' align='right'>
			<tr>
				<td id='navi' width='300'>
					<!-- Inizio Codice Shinystat -->
					<script type="text/javascript" language="JavaScript" src="http://codice.shinystat.com/cgi-bin/getcod.cgi?USER=swappa"></script>
					<noscript>
					<a href="http://www.shinystat.com/it" target="_top">
					<img src="http://www.shinystat.com/cgi-bin/shinystat.cgi?USER=swappa" alt="Contatori visite gratuiti" border="0"></a>
					</noscript>
					<!-- Fine Codice Shinystat -->
				</td>
				<td id='riemp2'></td>
				<td id='navi' width='80'>
					<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
						<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
					</a>
				</td>
			
				<td id='riemp5'></td>
				
			</tr>
			</table>
			</td>	
		</tr>
		<tr>
			<td colspan='2' id='siteheadfind'>
				<a href='../Site.Search.html'
				title='Cerca nel sito' rel='nofollow'>cerca</a> 
				<form class='siteheadfind search' action='../index.html'>
				<input class='searchbox' type='text' name='q' value='' size='40' />
				<input class='searchbut' type='submit' value='vai' />
				<!-- version > beta53 -->
				<!-- <input type='hidden' name='n' value='Uni.TemiEsameTW12' /><input type='hidden' name='action' value='search' /> -->
				<!-- version < beta53 -->
				<input type='hidden' name='n' value='Site.Search' />
				</form>
			</td>					
		</tr>
		<tr><td id='riemp1'></td></tr>
		<tr>
			<td id='pagetitle' width='560'>
				TemiEsameTW12
			</td>
			<td id='siteheadcmds'>
			<table width='360' cellpadding='0' cellspacing='0' align='right'>
			<tr>
				<td id='siteheadmenu'>
					<a rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=edit' title='Modifica la pagina'>modifica</a>
				</td> 
				<td id='siteheadmenu'>
					<a  rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=diff' title='Ultime modifiche della pagina'>cronologia</a>
				</td>
				<td id='siteheadmenu'>
					<a  rel='nofollow' href='TemiEsameTW12-action=print.html' title='Stampa la pagina'>stampa</a>
				</td>	
				<td id='riemp5'></td>
				<td id='log'>
					<a rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=login' title='Login'>login</a>
				</td>	
				<td id='log'>
					<a rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=logout' title='Logout'>logout</a>
				</td>	
				<td id='riemp2'></td>
			</tr>
			</table>
			</td>				
		</tr>  
		
	</table>
	<!--/PageHeaderFmt-->

	<table summary='Site: Main' id='contentmain' width='960'
	cellpadding='0' cellspacing='0' border='0' align='center'>
	<tbody>
		<tr>
			<td id='riemp2'></td>
			<!--PageLeftFmt-->
			<td id='mainsidebar'>
			
			<p class='sidehead'> Wiki
</p><ul><li><a class='wikilink' href='../Main/HomePage.html'>HomePage</a>
</li><li><a class='wikilink' href='http://www.swappa.it/wiki/Main/Forum'>Forum</a>
</li><li><a target='_blank'  class='urllink' href='http://www.swappa.it/gallery/main.php' title='' rel='nofollow'>Galleria</a>
</li></ul><p class='vspace sidehead'> UniCrema
</p><ul><li><a class='wikilink' href='../Category/UniCrema.html'>Tutte le materie</a>
</li><li><a class='wikilink' href='../Category/Docenti.html'>Docenti</a>
</li><li><a class='wikilink' href='Progetti.html'>Progetti</a>
</li></ul><p><br clear='all' />
</p>
<p class='vspace sidehead'> Materie per semestre
</p><ul><li><a class='wikilink' href='../Category/PrimoSemestre.html'>Primo semestre</a>
</li><li><a class='wikilink' href='../Category/SecondoSemestre.html'>Secondo semestre</a>
</li></ul><p class='vspace sidehead'> Materie per anno
</p><ul><li><a class='wikilink' href='../Category/PrimoAnno.html'>Primo anno</a>
</li><li><a class='wikilink' href='../Category/SecondoAnno.html'>Secondo anno</a>
</li><li><a class='wikilink' href='../Category/TerzoAnno.html'>Terzo anno</a>
</li><li><a class='wikilink' href='../Category/ComplementariOMagistrale.html'>Complem. / magistrale</a>
</li></ul><p class='vspace sidehead'> Materie per laurea
</p><ul><li><a class='wikilink' href='../Category/Informatica.html'>Informatica</a>
</li><li><a class='wikilink' href='../Category/Sicurezza.html'>Sicurezza</a>
</li><li><a class='wikilink' href='../Category/TS.html'>TS</a>
</li></ul><p><br clear='all' />
</p>
<p class='vspace sidehead'> Help
</p><ul><li><a class='wikilink' href='http://www.swappa.it/wiki/Category/GuideInterneWiki'>Guide interne</a>
</li><li><a class='wikilink' href='../Main/FAQ.html'>FAQ</a>
</li></ul><div class='vspace'></div>

			
				<div id='sidebarbottom'>
					<span style='white-space:nowrap;'>
						<a  rel='nofollow' href='http://validator.w3.org/check/referer'
						title='Validate XHTML'>XHTML</a>
					</span>
				</div>
			</td>
			<!--/PageLeftFmt-->
			<td id='riemp1'></td>
			<td id='mainsitetext'>
				<!-- table to work around an NS4 bug -->
				<table summary='Content Body' id='sitebody'
				cellpadding='0' cellspacing='0' border='0'> 
					<tr>
						<td>
							<!--PageTitleFmt-->
							<div id='sitepagetitle'
							title='Temi Esame TW 12 was last modified on June 01, 2009, at 07:08 PM'>
							<span style='display:none;'>Temi Esame TW 12</span>	
							</div>
							<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='TecnologieWeb.html'>Torna alla pagina di Tecnologie Web</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appello d'esame di Tecnologie Web - 09/02/2009 ::</strong>
</pre><div class='vspace'></div><h2>Esercizio 1</h2>
<p><strong>HTTP: cosè, metodi principali, schemi di autenticazione.</strong><br /><br />
<span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Hyper Text Transfer Protocol è un protocollo per traferire dati tramite indirizzamento IP e protocollo di trasporto TCP. Esistono due versioni: <strong>1.0 e 1.1</strong> per la quale è garantita la compatibilità con la precedente versione. La principale differenza tra le due è che la priva versione non ha connessione persistente, cioè non mantiene attivo lo stato di connessione e per richiedere diversi oggetti bisogna continuare a fare richieste di connessione; mentre con la 1.1 la connessione resta aperta fin quando non sono stati trasferiti tutti gli oggetti nella pagina. I metodi sono uguali per lntrambe le versioni:
</p><ul><li><em>option</em>: richiede ad un server informazioni sulle opzioni di comunicazione disponibili
</li><li><em>get</em>: richiede qualunque oggetto sia stato identificato dalla URL di richiesta
</li><li><em>head</em>: uguale a get ma il server non deve includere un messaggio nel body della risposta
</li><li><em>post</em>: richiede che il server di destinazione accetti l'oggetto identificato dalla URL dellla richiesta
</li><li><em>put</em>: richiede che l'oggetto conenuto nella richiesta sia salvato dal server alla URL specificata
</li><li><em>delete</em>: richiede la cancellaione dell'oggetto identificato dalla URL della richiesta
</li><li><em>trace</em>: richiede che il server destinatario risponda con lo stesso messaggio di richiesta come body, usato per la verifica dei messaggi
</li></ul><p>Due sono le modalità di autenticazione HTTP:
</p><ol><li><strong>Basic Authentication Scheme</strong> dove il client si autentica rispetto ad un server attraverso uno userID e una password inviate come un'unica stringa separata da <strong>:</strong> e codificate in base 64 ma trasmessi in chiaro
</li><li><strong>Digest Authentication Scheme</strong> che si basa sulle funzioni di hash non invertibili che permettono di spedire il contenuto in modo cifrato. Per aumentarne la sicurezza alla funzione MAC viene anche aggiunto un valore segreto detto <em>nounce</em> definito dal server e comunicato al client che dovrà spedire, con il resto del messaggio, per autenticarsi al server stesso.
</li></ol><div class='vspace'></div><h2>Esercizio 2</h2>
<p><strong>Dato il seguente documento XML books.xml:</strong>
</p>
<div class='vspace'></div><div  style='text-align: left; background-color: #f5f9fc; width: auto; border: 2px solid #cccccc; padding: 5px;' > 
<div class='vspace'></div><pre class='escaped'>
&lt;bookstore&gt;

 &lt;book category="COOKING"&gt;
   &lt;title lang="en"&gt;Everyday Italian&lt;/title&gt;
   &lt;author&gt;Giada De Laurentiis&lt;/author&gt;
   &lt;year&gt;2005&lt;/year&gt;
   &lt;price&gt;30.00&lt;/price&gt;
 &lt;/book&gt;

 &lt;book category="CHILDREN"&gt;
   &lt;title lang="en"&gt;Harry Potter&lt;/title&gt;
   &lt;author&gt;J K. Rowling&lt;/author&gt;
   &lt;year&gt;2005&lt;/year&gt;
   &lt;price&gt;29.99&lt;/price&gt;
 &lt;/book&gt;

 &lt;book category="WEB"&gt;
   &lt;title lang="en"&gt;XQuery Kick Start&lt;/title&gt;
   &lt;author&gt;James McGovern&lt;/author&gt;
   &lt;author&gt;Per Bothner&lt;/author&gt;
   &lt;author&gt;Kurt Cagle&lt;/author&gt;
   &lt;author&gt;James Linn&lt;/author&gt;
   &lt;author&gt;Vaidyanathan Nagarajan&lt;/author&gt;
   &lt;year&gt;2003&lt;/year&gt;
   &lt;price&gt;49.99&lt;/price&gt;
 &lt;/book&gt;

 &lt;book category="WEB"&gt;
   &lt;title lang="en"&gt;Learning XML&lt;/title&gt;
   &lt;author&gt;Erik T. Ray&lt;/author&gt;
   &lt;year&gt;2003&lt;/year&gt;
   &lt;price&gt;39.95&lt;/price&gt;
 &lt;/book&gt;

&lt;/bookstore&gt;
</pre>
</div>
<div class='vspace'></div><strong>2a. scrivere e spiegare il risultato per ognuna delle seguenti XQuery:</strong><br /><strong>a- doc("books.xml")/bookstore/book/title</strong><br /><strong>b- doc("books.xml")/bookstore/book[price&lt;30]</strong><br /><strong>c- doc("books.xml")/bookstore/book[price&gt;30]/title</strong><br /><strong>d- <pre class='escaped'>
for $x in doc("books.xml")/bookstore/book
where $x/price&gt;30
order by $x/title
return $x/title
</pre></strong>
<strong>e- <pre class='escaped'>
&lt;ul&gt;
{
for $x in doc("books.xml")/bookstore/book/title
order by $x
return &lt;li&gt;{data($x)}&lt;/li&gt;
}
&lt;/ul&gt;
</pre></strong><br /><br />
<p><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'><strong>a-</strong> restituisce tutti i titoli dei libri presenti nel file XML book.xml, perché parte dal nodo radice, entra nell'elemento bookstore, poi nel book e preleva i titoli.<br />Everyday Italian<br />Harry Potter<br />XQuery Kick Start<br />Learning XML<br /><br />
</p><strong>b-</strong> restituisce il libro che ha un prezzo inferiore a 30 dollari. In questo caso solo harry potter.<br /><pre class='escaped'>
&lt;book category="CHILDREN"&gt;
   &lt;title lang="en"&gt;Harry Potter&lt;/title&gt;
   &lt;author&gt;J K. Rowling&lt;/author&gt;
   &lt;year&gt;2005&lt;/year&gt;
   &lt;price&gt;29.99&lt;/price&gt;
 &lt;/book&gt;
</pre>
<p><br /><br />
<strong>c-</strong> restituisce i titoli dei libri che hanno un prezzo superiore a 30 dollari, quindi:<br />Everyday Italian<br />XQuery Kick Start<br />Learning XML<br /><br />
<strong>d-</strong> restituisce, tramite un costrutto flowr, i titoli dei libri con prezzo maggiore di 30 ordinati in ordine alfabetico.<br />Everyday Italian<br />Learning XML<br />XQuery Kick Start<br /><br />
</p><strong>e-</strong> restituisce i titoli dei libri in ordine alfabetico, ma questa volta in una lista non ordinata:<br /><pre class='escaped'>
* Everyday Italian
* Harry Potter
* Learning XML
* XQuery Kick Start
</pre>
<p class='vspace'><strong>2b. Cosa sono le espressioni flwor?</strong><br /><br />
<span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Le espressioni FLWOR sono il costrutto più comune e potente di XQuery. Sono simili al costrutto SELECT-FROM-WHERE di SQL ma anzichè essere applicati a relazioni tra tabelle associano variabili a valori utliazzando i costrutti <em>for</em> e <em>let</em> e usano tali associazioni per produrre i risultati. FLWOR è l'acronimo di: <em>For - Let - Where - Order - Return</em>, dove:
</p><ul><li><strong>For</strong>: associa una o più variabili alle esprezzioni che seguono la keyword <em>in</em>
</li><li><strong>Let</strong>: associa delle variabili all'intero risultato di un'espressione eventualmente aggiungendo questa associazione a quelle generate da un costrutto <em>for</em> 
</li><li><strong>Where</strong>: filtra le tuple prodotte da una <em>for</em> o <em>let</em> scartando quelle che non soddisfano la condizione necessaria
</li><li><strong>Order</strong>: ordina le tuple prodotte dalla <em>for</em> o dalla <em>let</em> (dove per tupla si intende la combinazione delle associazioni tra variabile e valori creata da un <em>for</em> o un <em>let</em>)
</li><li><strong>Return</strong>: crea il risultato dell'espressione FLWOR
</li></ul><div class='vspace'></div><h2>Esercizio 3</h2>
<p><strong>Web services: cosa sono e come funzionano.</strong><br /><br />
<span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Rappresentano una soluzione per permettere a sistemi eterogenei di lavorare insieme per realizzare il <strong>service oriented computing</strong>(programmazione con componenti distribuite sul web). Sono componenti software indipendenti dalla piattaforma e dall'implementazione: un client non può dire quale linguaggio, quale sistema operativo o tipo di computer è stato usato. Usando XML per codificare le comunicazioni, sono infatti indipendenti da piattaforme o linguaggi di programmazione: esso garantisce ricchezza espressiva, estendibilità, portabilità e facilità di comprensione. Inoltre possono essere validati da entrambe le parti che parti che comunicano.
Possono essere:
</p><ul><li><em>descritti</em> usando un linguaggio di descrizione del servizio (un web service deve descrivere se stesso: quali tipi di richieste può soddisfare, quali sono gli argomenti, quale il trasporto)
</li><li><em>pubblicati</em> in un registro di servizi per sapere dove è localizzato
</li><li><em>invocati</em> mediante un'API solitamente tramite la rete
</li><li><em>composti</em> con altri servizi e il servizio può a sua volta essere client di un altro servizio
</li></ul><p>L'architettura del web service è basata su 3 entità:
</p><ol><li><strong>service requestor</strong>: richiede l'esecuzione del web service
</li><li><strong>service provider</strong>: implementa il servizio e lo rende disponibile per il web
</li><li><strong>service registry</strong>: offre un servizio di pubblicazione e ricerca dei servizi disponibili
</li></ol><div class='vspace'></div><h2>Esercizio 4</h2>
<p><strong>Session tracking: cosè? Illustrare la soluzione a tale problema basata sulluso dellinterfaccia HttpSession, specificandone i vantaggi.</strong><br /><br />
<span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>HTTP è un protocollo stateless cioè ho una connessione separata per ogni accesso del client a pagine Web e il server non mantiene informazioni contestuali sul client che effettua l'accesso. E' un problema quando capita che devo manterene la sessione quando ad esempio faccio shopping on line. Per mantenere la sessione precedente ci sono 3 diversi metodi:
</p><ol><li>uso di <strong>cookies</strong>
</li><li><strong>riscrittura di URL</strong>
</li><li>uso dell'interfaccia <strong>HttpSession</strong> interfaccia ad alto livello costruita sopra 
</li></ol><p>cookies e URL rewriting (deve quindi supportare entrambi precedenti metodi)
</p>
<p class='vspace'>HttpSession ha 4 operazioni fondamentali:
</p><ol><li><em>Operazione 1: accedere all'oggetto di sessione associato alla richiesta corrente.</em> Per accedere agli oggetti di tipo HttpSession (che sono hashtable, cioè a ognuno è associata una chiave univoca) utilizzo la chiamata <code class='escaped'>request.getSession</code>. Il sistema estrae così lo userID da un cookie o dalla URL e lo confronta con gli elementi hashati della tabella: se ce n'è uno uguale ripristina la sessione altrimenti ne crea una nuova.
</li><li><em>Operazione 2: cercare informazioni associate alla sessione.</em> Cerco sul server facendo la chiamata <code class='escaped'>getAttribute</code> del metodo HttpSession. Se conosco già il valore della chiave posso usare <code class='escaped'>getAttribute("key")</code> per cercare valori precendente memorizzati.
</li><li><em>Operazione 3: immagazzinare infomazioni nella sessione.</em> Attraverso la chiamata <code class='escaped'>setAttribute</code> creo un nuovo attributo o se c'è già lo sovrascrivo. Per eliminare un valore senza rimpiazzarlo uso <code class='escaped'>removeAttribute</code>.
</li><li><em>Operazione 4: eliminazione dati di sessione.</em> Ci sono 3 modi per eliminare i dati: <code class='escaped'>removeAttribute ("key")</code> per eliminare i valori associati a una specifica chiave; <code class='escaped'>invalidate</code> per eliminare l'intera sessione corrente; <code class='escaped'>logout</code> per eliminare tutte le sessioni relative all'utente.
</li></ol><div class='vspace'></div><h2>Esercizio 5</h2>
<p><strong>Dichiarazioni JSP: cosa sono? Scrivere un pezzo di codice che ne mostri lutilizzo.</strong><br /><br />
</p>
<p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Le JSP sono formate da codice HTML + frammenti di codice Java. Le componenti di una JSP sono gli elementi ed i template.
Gli elementi contengono gli elementi di script (utilizzati per rendere una pagina dinamica) che contengono a loro volta le dichiarazioni.
Le dichiarazioni sono frammenti di codice Java utilizzato per dichiarare nuovi metodi o classi o variabili globali. Definite da: <strong>&lt;%! codice Java %&gt;</strong>. Vengono eseguite PRIMA di _jspService(). 
</p>
<div class='vspace'></div><pre class='escaped'>
&lt;%! int pageCount = 0;
    void addCount (){
      pageCount++;
    }%&gt;
</pre>
<div class='vspace'></div><h2>Esercizio 6</h2>
<p><strong>Spiegare il funzionamento e commentare dettagliatamente il seguente pezzo di codice.</strong>
</p>
<div class='vspace'></div><div  style='text-align: left; background-color: #f5f9fc; width: auto; border: 2px solid #cccccc; padding: 5px;' > 
<pre class='escaped'>
import java.util.*;
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class LinkTracker extends HttpServlet {
static private Hashtable hashLinks = new Hashtable();
String tstamp;
public LinkTracker() {
 tstamp = new Date().toString();
}

public void doGet(HttpServletRequest request,
HttpServletResponse response) throws IOException, ServletException {
String questoLink = request.getParameter("link");
 if (questoLink != null &amp;&amp; !questoLink.equals("")) {
  synchronized (hashLinks){
  Integer count = (Integer) hashLinks.get(questoLink);
   if (count == null) {
    hashLinks.put(questoLink, new Integer(1));
   }
   else {
    hashLinks.put(questoLink, new Integer(1+count.intValue()));
   }
 }
response.sendRedirect(questoLink);
}
else {
response.setContentType("text/html");
PrintWriter out = response.getWriter();
request.getSession();
out.println("&lt;html&gt;");
out.println("&lt;head&gt;");
out.println("&lt;title&gt;Links Tracker Servlet&lt;/title&gt;");
out.println("&lt;/head&gt;");
out.println("&lt;body&gt;");
out.println("&lt;p&gt;Links Tracked Since");
out.println(tstamp+":&lt;/p&gt;");
if (hashLinks.size() != 0) {
 Enumeration enumLinks = hashLinks.keys();
 while (enumLinks.hasMoreElements())
 {
  String key = (String)enumLinks.nextElement();
  int count = ((Integer)hashLinks.get(key)).intValue();
  out.println(key+" : "+count+" visits&lt;br&gt;");
 }
}
else {
 out.println("No links have been tracked!&lt;br&gt;");
}
out.println("&lt;/body&gt;");
out.println("&lt;/html&gt;");
}
}
public void doPost(HttpServletRequest request,
HttpServletResponse response) throws IOException, ServletException {
doGet(request, response);
}
}
</pre>
</div>
<p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Questo file è una Servlet che ha la funzione di LinkTracker in quanto quantifica quante volte viene cliccato un link. La quantità di clic viene visualizzata in codice HTML, se non è stato effettuato nessun clic viene visualizzato il messaggio: "No links have been tracked!".<br />Il metodo HTTP utilizzato per verificare quante volte il link è stato cliccato è il doGET, il quale accoda l'informazione alla URL.<br />Viene creata una hashtable, cioè una tabella con chiave-valore. Se la variabile stringa "questoLink" non è nulla o vuota viene effettuata una sincronizzazione della tabella e viene incrementato il contatore intero "count", se "count" è nullo viene inizializzato a 1.<br />Se la variabile questoLink non è vuota o nulla viene stampato l'HTML tramite PrintWriter. Come prima informazione viene stampata la data dell'ultimo accesso, che era stata salvata nella variabile "tstamp" tramite il metodo LinkTracker() e convertita in stringa.<br />Tramite un ciclo while vengono stampati i valori delle varie "key" presenti nella hashTable col contatore di visite effettuate.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='TecnologieWeb.html'>Torna alla pagina di Tecnologie Web</a>
</p>
</div>

						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td id='foot' colspan='4' rowspan='1'>
				<table summary='Wiki: Footer' width='100%' cellpadding='0' cellspacing='0' border='0'>
				<!--PageFooterFmt-->
				<tr>
					<td id='footleft'>
					<span id='footchanges'>
						<a  rel='nofollow' href='RecentChanges.html'
						title='Ultime modifiche della sezione'
						accesskey='c'>Ultime modifiche</a>
						<a  rel='nofollow' href='http://www.swappa.it/wiki/Site.AllRecentChanges'
						title='(Tutte le modifiche del sito'
						accesskey='a'>(Tutte)</a>
					</span>
					<span id='footeditsb'>| 
						<a  rel='nofollow' href='http://www.swappa.it/wiki/Site.SideBar?action=edit'
						title='Modifica la barra laterale'
						accesskey='b'>edit SideBar</a>
					</span>
					</td>
					<td id='footmiddle'>
					<span id='footlastmod'>Ultimo aggiornamento: June 01, 2009, at 07:08 PM</span> 
					</td>
					<td id='footright'>
					<span id='footedit'>
						<a  rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=edit'
						title='Modifica la pagina'
						accesskey='e'>Modifica</a>
					</span>
					<span id='foothist'>| 
						<a  rel='nofollow' href='http://www.swappa.it/wiki/Uni/TemiEsameTW12?action=diff'
						title='Ultime modifiche della pagina'
						accesskey='h'>Cronologia</a>
					</span> 
					</td>
				</tr>
				<!--/PageFooterFmt-->
				</table>
			</td>
		</tr>
	</tbody>
	</table>

	</body>
	
</html>
 
 
