<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / - Ricerca Operativa - Antitrust</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='ROAntitrust.html' title='- Ricerca Operativa - Antitrust'>- Ricerca Operativa - Antitrust</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
</p><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - Antitrust ::</strong>
</pre><div class='vspace'></div><h2>Testo</h2>
<p>Per effetto di una nuova normativa antitrust, una grande azienda deve dividersi in due aziende di dimensioni minori. Naturalmente i dirigenti designati al vertice di entrambe le aziende minori competono per accaparrarsi la maggior parte del mercato dell’azienda-madre. Per dirimere la controversia, bisogna formulare matematicamente il problema e trovare quindi la spartizione dimostrabilmente ottima.<br />L’azienda-madre vende M prodotti tramite N filiali sparse per il mondo e si conosce quanto fattura ciascuna filiale per ciascun tipo di prodotto. Ciascuna delle filiali è indivisibile e deve essere assegnata ad una delle due aziende-figlie. Si vuole che entrambe le aziende-figlie abbiano quote il più uniformi possibili di mercato per tutti gli M prodotti; si vuole quindi minimizzare la massima differenza tra il fatturato di un’azienda figlia e quello dell’altra rispetto ad uno stesso prodotto.<br />
Formulare il problema, classificarlo e risolverlo con i dati del file ANTITRU.TXT
</p>
<p class='vspace'>Come cambierebbe il problema e come cambierebbe la soluzione ottima se si volesse minimizzare la differenza di fatturato complessivo tra le due aziende-figlie? Che relazione esiste tra i due problemi?
</p>
<div class='vspace'></div><h2>Soluzione</h2>
<h3>Codice LINGO</h3>
<pre class='escaped'>
model:

SETS:
prodotti /1..5/;
filiali /1..10/;
coppia (filiali, prodotti): v;
aziende /1..2/;
assegn (filiali, aziende): x;

ENDSETS

DATA:
! Matrice del fatturato per singola filiale, copiata dal file TXT dell'esercizio;
v = 	15000  20000  18000  58000   2400
	20000  10000  20000  57000   1900
	18000  23000  17500  55500   9820
	21000  12000  16800  48000   6000
	12500  10000  10950  62000   7800
	13750  22000  14400  60000   2500
	20500  21000  21000  59800   1980
	14250  23800  21500  55500   3450
	10800  14180  25400  53250   6500
	13700  13980  20100  57500   4000;
ENDDATA

! Funzione obiettivo: minimizziamo la variabile ausiliaria alpha;
min = alfa;

! Vincoli;
! Vincolo su alfa;
@for(prodotti(p): 
	@for (aziende(a):	
		@for(aziende(b) | (a #NE# b):
			alfa &gt;= @sum(filiali(f): v(f,p) * (x(f,a) - x(f,b)))
		)
	)
);

! Vincolo: una filiale appartiene a una sola azienda, cioè la x deve avere valore 1 solo
! in corrispondenza di un'azienda;
@for(filiali(f): @sum(aziende(a): x(f,a)) = 1);

! Le variabili devono essere binarie;
@for(assegn(f,a): @bin(x(f,a)));


end
</pre>
<div class='vspace'></div><h3>Explanation</h3>
<p>Per quanto riguarda a quale azienda-figlia è stata assegnata una certa filiale, si usa <strong>assegn (filiali, aziende): x;</strong>, composta da variabili binarie. Il vincolo che una filiale appartenga solo ad una figlia è espresso con <strong>@for(filiali(f): @sum(aziende(a): x(f,a)) = 1);</strong>.
</p>
<p class='vspace'>La funzione obiettiva è invece più impestata: vogliamo <em>minimizzare la massima differenza di fatturato per ogni prodotto</em>. Vuol dire che dobbiamo prendere tutte le filiali di un'azienda-figlia, fare la somma del fatturato relativo ad un certo prodotto, e confrontarlo con la somma dei fatturati delle filiali appartenenti all'altra azienda figlia.<br />Ecco che si spiega il <em>for</em> hyper innestato: per ogni prodotto, per ogni azienda, per ogni filiale di quell'azienda, etc. etc.
</p>
<p class='vspace'>La scrittura <strong>a #NE# b</strong> si traduce con <strong>a not equal b</strong>, e vuol dire che il conto va avanti solo se a è diverso da b (così evito di fare sommatorie quando confronto un'azienda con se stessa).
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/ROAntitrust)</span></div>
  </div>
</body>
</html>
