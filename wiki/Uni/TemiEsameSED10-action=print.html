<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Temi d'esame di Sistemi - 12/05/2007</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='TemiEsameSED10.html' title='Temi d'esame di Sistemi - 12/05/2007'>Temi d'esame di Sistemi - 12/05/2007</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='Sistemi.html'>Torna alla pagina di Sistemi per l'elaborazione delle informazioni</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'>  <strong>:: Temi d'esame di Sistemi - 12/05/2007 ::</strong>
</pre><div class='vspace'></div><h2>Esercizio 1</h2>
<p><strong>Siete stati incaricati di scrivere usando i socket un server a cui possono collegarsi dei citofoni. I citofoni sono collegati al server tramite Ethernet 10Mbps. Il programma server riceve sulla porta 8888 richieste di connessione dai citofoni. Ogni citofono apre due connessioni: una di controllo e l'altra su cui passano i pacchetti dati contenenti la voce campionata. Il server conclude la connessione che trasporta la conversazione quando riceve sulla connessione di controllo un pacchetto contenente la stringa STOP.</strong><br /><strong>Fornite lo schema e lo pseudocodice delle principali chiamate socket necessarie per il corretto funzionamento del programma. Gestite correttamente il problema della possibile simultaneità delle richieste di connessione.</strong>
</p>
<p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>SCHEMA A BLOCCHI:
</p><div><img src='../uploads/Uni/es1-SED10.jpg' alt='' title='' /></div>
<p><br clear='all' />
</p>
<p class='vspace'>PSEUDO-CODICE:
</p>
<p class='vspace'>sockid=socket(AF_INET, sock_stream, 0);
</p><pre class='escaped'>
//controllo che sia ok

if(sockid!=0) {
	msg "error";
	exit(-1)
	}


//per comodità assegno tutto

sockaddr_in destinazione {
	destinazione.sin_family = AF_INET;
	destinazione.sin_port = 8888;
	destinazione.sin_addr = localaddress;
	}

int status = bind (sockid, &amp;destinazione, lenght(destinazione));

//controllo
if(status!=0) {
	msg "error";
	exit(-1)
	}

//metto in ascolto e gli metto il massimo di citofoni in coda
int startlen = listen (sockid, 10);

//controllo
if(startlen!=0) {
	msg "error";
	exit(-1)
	}

//ciclo infinito per continuare l'accept


for (;;){
	int sockaddr, clientaddr;
	int clientid = accept (sockid, clientaddr, lenght(clientaddr));
	pid = fork();
	//controllo se è il processo padre o il processo figlio
	if (pid!=0){
		close(clientid);
		}
	//scrivo il figlio
	else{
		//crea un nuovo socket per i dati ad una porta più o meno casuale
		datasocket = socket(PF_INET, sock_stream, o);

		sockaddr_in dataaddr{
			dataaddr.sin_family = AF_INET;
			dataaddr.sin_port = 8888 + datasocket;
			dataaddr.sin_addr = localaddress;
			}

                bind (datasocket, &amp;dataaddr, sizeof(dataaddr));
		int array_socket = new array_socket[2];//creo un array di 3 celle
		array_socket[0] = clientid;
		array_socket[1] = datasocket;
		boolean fine = false //per il ciclo di ricevimento dei dati 
                                     //finchè non mi dà stop, continuo il ciclo

		while (!fine) {
			int chi = select (2, &amp;array_socket, NULL, NULL, NULL);
			if (chi = clientid){
				string comando;
				recv (clientid, &amp;comando, len(comando), NULL);
				if (comando=="stop"){
					fine = "true";
					}
				else {
				//analizza i dati in ingresso
				}
			}
		close(clientid);

		close(datasocket);
		} //fine del figlio
	}
	close(socketid);
	//fine programma
}</pre>
<p class='vspace'><a class='urllink' href='../uploads/Uni/Es1SED10.pdf' title='' rel='nofollow'>Versione alternativa in PDF</a>
</p>
<div class='vspace'></div><hr />
<div class='vspace'></div><h2>Esercizio 2</h2>
<p><strong>Con riferimento alla figura che segue, che rappresenta un'esecuzione del comando nslookup:</strong>
</p><div><img src='../uploads/Uni/SED10.jpg' alt='' title='' /></div>
<p class='vspace'><strong>Specificare i record che sono SICURAMENTE presenti nel database del server DNS che risponde, mettendo in evidenza i tipi di record (RR, MX, SOA e NS).</strong>
</p>
<p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'>Innanzitutto, RR sta per <strong>Resource Record</strong>, e vuol dire "record di risorsa". E' il nome che si dà a tutti i record DNS, e NON è il nome di un record. La fonte è autorevole: <a class='urllink' href='http://www.iana.org/assignments/dns-parameters' title='' rel='nofollow'>http://www.iana.org/assignments/dns-parameters</a>.
</p>
<p class='vspace'>MX = è il record <strong>Mail eXchange</strong>, che mi dice il server di posta adatto al dominio. Eg, devo postare a dario@babaoglu.com, e mi viene detto che il server di posta di babaoglu.com è baba.oglu.pandino.
</p>
<p class='vspace'>SOA = <strong>Start Of Authority</strong>, mi dice qual'è il DNS autoritativo per quel dominio. Nell'esempio qui sopra, non saprei qual'è, devo capirlo.
</p>
<p class='vspace'>NS = <strong>Name Server</strong>, e serve per mappare un dominio ad una lista di DNS server autoritativi per quel dominio. 
</p>
<p class='vspace'>Nell'immagine qui sopra, le prime 2 righe mi dicono il nome e l'indirizzo del server a cui è stata rivolta la query DNS. Le altre 3 righe mi dicono il nome di pc-darwish in rete, il suo indirizzo e l'indirizzo di alias. Non viene indicato se la risposta è autoritativa o meno.
Quindi compaiono l'A record (indirizzo), il CNAME (alias) e il PTR (IP) di pc-darwish. MX qui non compare, né SOA né NS... ma tanto nessuno ci contava, no?:) Poi magari mi sbaglio, neh! Ma chiedete a lui, non vorrei dirvi una cazzat...
</p>
<div class='vspace'></div><hr />
<div class='vspace'></div><h2>Esercizio 3</h2>
<p><strong>L'accesso ad un sito restituisce il seguente header:</strong>
</p>
<p class='vspace'><em>HTTP/1.1 200 OK</em> <br /><em>Content-Lenght: 83492</em> <br /><em>Content-Type: text/html</em> <br /><em>Content-Location: <a class='urllink' href='http://olaf.crema.unimi.it:80/Default.htm' title='' rel='nofollow'>http://olaf.crema.unimi.it:80/Default.htm</a></em> <br /><em>Last-Modified: Tue, 10 Jan 2007 16:37:51 GMT</em> <br /><em>Accept-Ranges: bytes</em> <br /><em>ETag: "b327d632416c61:242"</em> <br /><em>Server: </em>Microsoft-IIS/6.0 <br /><em>X-Powered-By: ASP.NET</em> <br /><em>Date: Sun, 29 Jan 2006 16:30:54 GMT</em> <br /><em>Connection: close</em> <br /><br />
</p><ol><li><strong>Fornite la richiesta HTTP che più probabilmente ha causato la risposta</strong>
</li><li><strong>Spiegate il significato di almeno cinque campi dello header ricevuto</strong>
</li></ol><p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'><strong>1. richiesta http:</strong><br />
<em>GET</em> /Default.htm HTTP/1.1<br /><em>Host</em>: olaf.crema.unimi.it<br /><em>User-Agent</em>: Mozilla/5.0<br /><em>Accept</em>: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5<br /><em>Accept-Encoding</em>: gzip,deflate<br /><em>Accept-Charset</em>: ISO-8859-1,utf-8;q=0.7,*;q=0.7<br /><em>Connection</em>: Close<br /><em>If-Modified-Since</em>: Tue, 10 Jan 2007 16:37:51 GMT<br /><br />
<ins> <em>NOTA</em>: </ins> per vedere i campi http utilizzate o il sito che ha consigliato il Damiani nazionale <a target='_blank'  class='urllink' href='http://www.softswot.com/http-header.php#viewer' title='' rel='nofollow'>http://www.softswot.com/http-header.php#viewer</a> oppure se usate Firefox potete installare il plugin Live http Headers su questo sito <a target='_blank'  class='urllink' href='http://livehttpheaders.mozdev.org/' title='' rel='nofollow'>http://livehttpheaders.mozdev.org/</a><br />In teoria i campi GET \ HOST \ CONNECTION dovrebbero essere sufficienti perché sono quelli fondamentali, gli altri campi dipendono dal browser utilizzato e dalle opzioni, io li ho inseriti osservando il Live HTTP Headers quindi sono giusti, però sono forse superflui per l'esercizio.<br /><br />
<strong>2. campi risposta:</strong><br />
<em>http/1.1:</em> indica il protocollo e la sua versione.<br /><em>200 OK:</em> significa che la richiesta è andata a buon fine e l’oggetto richiesto è incluso nella risposta.  
NOTA: il <em>numero</em> è lo status code, mentre <em>ok</em> è lo status message, rappresentano la stessa informazione, ma una sotto forma di numero, l’altra sotto forma di messaggio.<br /><em>Content-Length:</em> dimensioni in bytes della risposta.<br /><em>Content-Type</em>: tipo dell’oggetto contenuto nell’Entity Body, nel corpo della risposta.<br /><em>Content-Location</em>: Questo campo viene usato per indicare la locazione dell’entità associata alla risorsa definita dal Request-URI. Viene usata quando una o più entità associate alla risorsa hanno locazioni diverse da essa.<br /><em>Last-Modified:</em> data dell’ultima modifica dell’oggetto richiesto.<br /><em>Accept-Ranges:</em> specifica quale tipo di contenuto questo server supporta.<br /><em>ETag:</em> identificativo della pagina, se la pagina cambia, cambia anche questo valore.<br /><em>Server:</em> tipo di Web Server.<br /><em>X-Powered-By</em>:<br /><em>Date:</em>data di creazione della risposta.<br /><em>Connection:</em> close indica una connessione non persistente.<br />
</p>
<div class='vspace'></div><hr />
<div class='vspace'></div><h2>Domande:</h2>
<ol><li><strong>Il protocollo RPC si basa su UDP o TCP? Quali sono le possibili motivazioni della scelta?</strong>
</li><li><strong>Spiegare cosa è il protocollo CHAP e quando si usa</strong>
</li><li><strong>Spiegare cosa è il formato MIME ed elencare almeno due protocolli applicativi che ne fanno uso</strong>
</li></ol><p class='vspace'><span  style='color: red;'><span style='font-size:83%'><strong>SOLUZIONE</strong></span></span>
</p>
<p class='vspace'><strong>1.</strong><br />UDP conviene se:<br />*multiple esecuzioni della procedura non sono dannose
</p><ul><li>argomenti e risultato hanno dimensione minore del pacchetto UDP
</li><li>il server deve gestire molti client ( UDP non mantiene informazioni sul client)
</li></ul><p>TCP conviene se:<br />*l’applicazione richiede una connessione affidabile
</p><ul><li>le procedure non possono essere eseguite più volte
</li><li>le dimensioni degli argomenti o del risultato eccedono 8kb<br /><br />
</li></ul><p>Comunque il Ceravolino aveva detto che è meglio UDP.<br /><br />
<strong>2.</strong><br />In informatica il CHAP (Challenge-Handshake Authentication Protocol) è un protocollo di autenticazione che identifica un utente presso un Internet Service Provider.<br />Il CHAP è uno schema d'autenticazione usato dai server PPP per convalidare l'identità dei client remoti. Il CHAP verifica periodicamente l'identità del client tramite un processo handshake. Ciò accade non appena viene stabilito il primo contatto e può accadere di nuovo in qualunque momento. La verifica si basa su un segreto condiviso (come la password dell'utente).
</p><ol><li>Dopo aver stabilito una connessione, il client invia il proprio identificativo utente ed il server risponde con una domanda di "sfida" (challenge), costituita da un numero semicasuale.
</li><li>Il client esegue l'hash (può essere un MD5) del challenge assieme alla sua password e lo reinvia.
</li><li>Il server, che conosce la password, è in grado di eseguire lo stesso calcolo e quindi comparare i due valori verificando la correttezza del valore ricevuto. Se i valori non combaciano la connessione viene terminata.
</li><li>Ad intervalli casuali il server ripropone un challenge al client e vengono ripetuti i primi tre passi.
</li></ol><p><em>(da Wikipedia)</em>
</p>
<p class='vspace'><strong>3.</strong><br />Le MIME ( Multipurpose Internet Mail Extensions ) sono state definite per consentire la trasmissione di dati non ASCII attraverso la posta elettronica. MIME consente che dati arbitrati siano codificati in ASCII e poi trasmessi in un messaggio standard di posta elettronica.<br />Ogni messaggio MIME include informazioni che comunicano al destinatario il <em>tipo dei dati</em> e la <em>codifica usata</em>. Lo standard definisce sette tipi base del contenuto. Questi tipi si trovano nel campo Content-Type visto anche negli esercizi http.<br />SMTP / POP3 / HTTP / ...<br /><em>(Dal libro).</em>
</p>
<div class='vspace'></div><hr />
<p class='vspace'><a class='wikilink' href='Sistemi.html'>Torna alla pagina di Sistemi per l'elaborazione delle informazioni</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/TemiEsameSED10)</span></div>
  </div>
</body>
</html>
