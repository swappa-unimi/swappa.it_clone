<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Elementi di Sicurezza e Privatezza - Sicurezza nelle Reti</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='ESP-SicurezzaNelleReti.html' title='Elementi di Sicurezza e Privatezza - Sicurezza nelle Reti'>Elementi di Sicurezza e Privatezza - Sicurezza nelle Reti</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='ElementiSicurezzaPrivatezza.html'>Torna alla pagina di Elementi di sicurezza e privatezza</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Sicurezza nelle Reti ::</strong>
</pre><div class='vspace'></div><div  style='text-align: left; background-color: #f5f9fc; width: 300px; border: 2px solid #cccccc; padding: 5px;' > 
<p  style='text-align: center;'><strong>Indice</strong>
</p>
<div class='vspace'></div><ol><li><a href='#a1'>Connettività alla rete</a>
</li><li><a href='#a2'>Tipi di attacchi</a>
</li><li><a href='#a3'>Denial of service</a>
</li><li><a href='#a4'>Attacchi ad applicazioni web</a>
</li><li><a href='#a5'>Autenticazione in sistemi aperti</a>
</li><li><a href='#a6'>Firewall</a>
</li></ol></div>
<p class='vspace'><a name='a1' id='a1'></a>
</p><h2>Connettività alla rete</h2>
<p>Quali sono i vantaggi di connettersi a una rete? Che le reti private sono in grado di raggiungere e comunicare con il mondo esterno. Lo svantaggio principale è che il mondo esterno è in grado di raggiungere e interagire con le reti private.<br />I vantaggi di un computing network inoltre sono:
</p><ul><li>condivisione delle risorse
</li><li>carico di lavoro distribuito
</li><li>maggiore affidabilità 
</li><li>espandibilità
</li></ul><p>Gli svantaggi sono:
</p><ul><li>incremento rischi di violazioni
</li><li>sorgenti di problemi di sicurezza
</li></ul><p class='vspace'>Le <strong>caratteristiche</strong> principali di una <strong>rete</strong> sono:
</p><ul><li><ins><em>anonimità</em></ins>: infatti si può risalire all'indirizzo IP della macchina, ma non si può effettivamente sapere chi c'è dietro.
</li><li><ins><em>automazione</em></ins>: nodi intermedi e/o finali possono essere macchine con solo una minima  supervisione umana.
</li><li><ins><em>distanza</em></ins>: connessione tra nodi possibilmente molto distanti tra loro. Posso per esempio connettermi alla California pur non spostandomi da casa.
</li><li><ins><em>opacità</em></ins>: utenti non possono dire se una macchina remota è nella stanza accanto o in un altro continente. Per questo chi ha ancora la 56k deve stare attento a quale numero viene connesso, perché se viene connesso a un server remoto a Taiwan che gli costa tot è fottuto.
</li><li><ins><em>instradamento dinamico</em></ins>: interazioni tra due nodi possono seguire percorsi diversi per motivi di affidabilità e performance(vedi <a class='wikilink' href='Sistemi.html'>sistemi di elaborazione dell'informazione</a>).
</li></ul><p class='vspace'>Sulla base di ciò ho due tipi di protocolli per gestire la rete:
</p><ol><li><strong>Protocollo TCP</strong> che gestisce il trasporto dei pacchetti. Il TCP simula un canale di comunicazione per spedire i pacchetti e ne controlla l'arrivo.
</li><li><strong>Protocollo IP</strong> è quello che gestisce l'instradamento dei pacchetti. Esso identifica gli host con gli indirizzi e stabilisce dove deve andare un pacchetto.
</li></ol><p class='vspace'><a name='a2' id='a2'></a>
</p><h2>Tipi di attacchi</h2>
<p>Qualunque sia il tipo di attacco l'obiettivo primario di un attaccante è sempre quello di <em>sottrarre informazione</em> o <em>degradare il sistema</em>.<br />Ci sono due tipi di attaccanti:
</p><ul><li><em>intruso attivo</em>: può alterare il messaggio e inviare messaggi falsi spacciandosi per il mittente autentico.
</li><li><em>intruso passivo</em>: legge il messaggio senza alterarlo.
</li></ul><p class='vspace'>Le quattro principali tipologie di attacco sono:<br /><strong>1. interruzione</strong>: una parte del sistema viene distrutta o diventa non utilizzabile. Questo è un attacco alla <em>disponibilità</em> del sistema.<br /><br />
<strong>2. intercettazione</strong>: quando un soggetto non autorizzato ottiene un accesso ad un componente del sistema. Alcuni tipi di attacchi possono richiedere una preparazione preventiva a livello fisico per installare dispositivi pirata per agganciarsi alla rete e per installare software di supporto alla intercettazione. Altri possono sfruttare debolezze intrinseche di protocolli e software di rete e il fatto che un utente abbia disatteso qualche norma comportamentale imposta dalla politica di sicurezza. Questo è un attacco alla <em>confidenzialità</em> del sistema. L'intercettazione è basata su:
</p><ul><li>analizzatori di traffico su rete
</li><li><strong>sniffing</strong>(sniffare): applicazioni di analisi del traffico su rete cattura tutti i pacchetti che transitano su rete tramite la scheda di rete (solitamente infatti la scheda di rete passa al sistema operativo solo il traffico destinato a quella macchina, mentre qui passa tutto).
</li><li><strong>spoofing</strong>(spacciarsi per): lo spoofing è un'azione di camuffamento. Ci sono diversi tipi di spoofing:
<ul><li><em>file spoofing</em>: tecnica usata per simulare che un file corrisponde a un tipo diverso da ciò che è realmente. Ad esempio modificando le estensioni associate a un file (più facile in Windows perchè l'estensione se non esplicitato non viene visualizzata) o modificare le intestazioni del protocollo MIME che gestisce gli allegati delle mail. In questo modo gli allegati vengono visualizzati come un certo tipo (es immagini) ma nascondono in realtà degli script che partono una volta aperto l'allegato.
</li><li><em>IP spoofing</em>: tecnica che consiste nella creazione di un pacchetto IP nel quale viene modificato l'indirizzo IP del mittente, quindi quando l'IP sorgente di un pacchetto viene modificato.
</li><li><em>masquerade</em>: una macchina dichiara di essere una macchina diversa. Ci sono due tipi di attacchi di questo tipo:
<ul><li><ins>URL confusion</ins>: è legato al fatto che i nomi di dominio si possono facilmente confondere(es: xyz.com viene mascherato con xyz.it).<br />Esempio: Cthulhu crea una pagina web simile a quella di una banca, invia una mail ad un certo numero di utenti con il link all'indirizzo del proprio sito, opportunamente mascherato (se l'indirizzo originale è www.banca.it l'indirizzo di Cthulhu sarà www.banca.com). L'utente inconsapevolmente si loggerà inserendo username e password al finto portale ed in questo modo Cthulhu gli avrà estorto dei dati che gli permetteranno di rubargli l'identità nel vero portale della banca e avvicinarsi sempre di più alla conquista del mondo muahahahahahaha IA IA CTHULHU FATGHA.
</li><li><ins>Phishing</ins>: attraverso messaggi di posta elettronica fasulli opportunamente creati per apparire autentici si cerca di estorcere dati personali all'utente con la finalità di furto d'identità(es: la mail fasulla delle poste italiane che vi segnalava che eravate in rosso sul conto, conto che probabilmente nemmeno avevate).
</li></ul></li><li><em>man in the middle</em>: attacchi in cui l'intruso riesce a dirottare il traffico tra client e server legittimi. E' una categoria molto ampia di attacchi. Comprende attacchi di tipo:
<ul><li><ins>fisico</ins>(attaccante controlla un firewall) o <ins>logico</ins> come può essere la <strong>TCP session hijacking</strong>, cioè l'inserimento in una sessione TCP attiva. Spiando una connessione attiva è possibile sostituirsi ad uno dei due interlocutori. Es: Sammy spia la connessione tra Sabry e Piur e registra i numeri di sequenza dei pacchetti (logico, è gelosa). Successivamente Sammy blocca Piur che vede interrompersi la sua sessione interattiva. Sammy invia pacchetti con il corretto numero di sequenza con mittente Piur in modo che Sabry non si accorga di nulla e creda di parlare ancora con Piur ("Ehi Piur non è ancora ora che riporti tua moglie al parco di Yellostone? In fondo è là il suo ambiente naturale!" dice la Sabry. "Ti faccio vedere io dov'è il tuo ambiente naturale!" risponde il finto Piur(Sammy) e va là e la sbrana).
</li><li><ins>full</ins>(l'attaccante vede entrambi i flussi e riesce ad apparire sia come un interlocutore sia come l'altro) o <ins>half-duplex</ins>
</li></ul></li></ul></li><li>programmi che emulano servizi del sistema registrando informazioni riservate all'utente.
</li></ul><p class='vspace'><strong>3. modifica</strong>: soggetto non autorizzato entra in possesso di una componente del sistema, la modifica e la introduce di nuovo nel sistema. Questo è un attacco all<em>'integrità</em><br /><br />
<strong>4. produzione</strong>: soggetto non autorizzato produce componenti nuove e le immette nel sistema. Sono attacchi tesi a degradare l'operatività del sistema con diverse tecniche:
</p><ul><li><strong>virus</strong>
</li><li><strong>worm</strong>
</li><li><strong>denial of service</strong>
</li></ul><p>Questi attacchi minacciano l<em>'integrità</em> e la <em>disponibilità</em>, più raramente e indirettamente la <em>confidenzialità</em>
</p>
<p class='vspace'><a name='a3' id='a3'></a>
</p><h2>Denial of service</h2>
<p>Concentriamoci su questo tipo di attacco. Un attacco <strong>DoS (Denial of Service)</strong> ha come obiettivo quello di far saltare il servizio offerto da un sistema, quindi vedranno negato l'accesso al sistema(alle informazioni e ai servizi che offre) anche utenti autorizzati.<br />Un attacco di questo tipo viene realizzato inondando di richieste casuali la macchina obiettivo che non riuscirà più a sopportare il carico di richieste e smetterà di funzionare.<br />I diversi tipi di DoS sono:
</p><ul><li><strong>ping of death</strong>: è un tipo di Denial of Service e si basa sul protocollo ICMP, specialmente sul comando <em>ping</em>. Il comando ping viene usato per determinare se un sistema remoto è raggiungibile o meno dal proprio sistema locale. Il problema quindi non riguarda solo i computer, ma tutto ciò che si connette direttamente alla rete (es: stampanti, router).<br />Le specifiche del TCP/IP fissano la grandezza massima di un datagramma IP in 65536 bytes, di questi solo 20 sono riservati all'intestazione del pacchetto. Però all'interno del pacchetto risiede una richiesta ICMP costituita da 8 bytes di header seguita dal numero di byte riservati per i dati, la cui dimensione massima è 65507 bytes. Il problema del ping of death nasce dalla possibilità di generare una richiesta ICMP_ECHO in un pacchetto con più di 65507 byte di campo dati.<br />Da notare che macchine simili possono reagire in modo diverso, in quanto in alcuni casi il fenomeno si può verificare in condizioni di carico gravoso su macchine che in altre condizioni non avevano presentato il problema. In alcuni casi si può anche arrivare al crash e al reboot del sistema.
</li><li><strong>SYN flooding</strong>: è un attacco nel quale l'attaccante genera un flusso di pacchetti con il flag SYN attivo e con l'indirizzo IP spoofato, per non rivelare il vero indirizzo IP da cui sferra l’attacco e per rendere i pacchetti SYN indistinguibili dai legittimi pacchetti SYN.<br />Con questo tipo di attacco la coda delle connessioni half-opened dello stack TCP/IP viene saturata, quindi la vittima non accetterà ulteriori connessioni, anche legittime.<br />Slide chiarificatrice:
</li></ul><div class='vspace'></div><div><img src='../uploads/Uni/TemiEsameSP04Dom6.jpg' alt='' title='' /></div>
<div class='vspace'></div><div class='indent'><strong>Contromisure</strong>:<br />Gli stack moderni sono resistenti a questo tipo di attacco.<br />SYN COOKIE: il server prepara un cookie la cui integrità è garantita attraverso meccanismi di firma, con informazioni relative alla connessione, che rispedisce al client. In questo modo l'allocazione delle risorse viene posposta finché non si riceve il terzo pacchetto (ACK).
</div><div class='vspace'></div><ul><li><strong>smurf attack</strong>: l'attaccante intasa la vittima sfruttando il protocollo ICMP. Infatti invia una <em>ICMP Echo Request</em> con <em>fonte</em>: indirizzo vittima e <em>destinazione</em>: indirizzo broadcast(quindi tutti gli host della rete locale). Quindi tutte le macchine che ricevono la richiesta generano una <strong>ICMP Echo Reply</strong> diretta alla vittima, così facendo le risposte generate intaseranno la vittima.<br />Slide chiarificatrice:
</li></ul><div class='vspace'></div><div><img src='../uploads/Uni/TemiEsameSP01Dom4.jpg' alt='' title='' /></div>
<div class='vspace'></div><div class='indent'><strong>Contromisure</strong>:<br />Disattivare sul proprio router esterno la funzione di risposta delle richieste ICMP mandate all'indirizzo di broadcast della rete dall'aggressore.
</div><div class='vspace'></div><ul><li><strong>DDoS (distributed denial of service)</strong>: è un particolare tipo di DoS in cui il malintenzionato infetta altri computer sulla rete per fare in modo di non essere egli stesso colui che effettua direttamente l'attacco, ma altri computer di ignari utenti.
</li></ul><div class='indent'>La <em>differenza</em> con il DoS è che in DoS è l'utente malizioso a sferrare l'attacco mentre in DDoS l'utente lo scatena ma non lo effettua in prima persona. Nel DDoS gli attori sono:
<ul><li><strong>vittime primarie</strong>:
<ul><li><em>macchine zombie</em> elevato numero di macchine ignare di essere usate per l'attacco.
</li><li><em>macchine master</em> minor numero di macchine infettate o macchine dell'attaccante che sincronizzano le zombie.
</li></ul></li><li><strong>vittime finali</strong>: che subiscono richieste dalle macchine zombie.
</li></ul></div><div class='indent'>Le fasi che caratterizzano questo attacco sono due:
</div><div class='indent'>1. Vengono infettate molte macchine che ricoprono il ruolo di zombie e master, questa fase può durare anche mesi.
</div><div class='indent'>2. Le vittime finali vengono inondate di richieste e pacchetti dalle zombie.
</div><p class='vspace'><a name='a4' id='a4'></a>
</p><h2>Attacchi ad applicazioni web</h2>
<p>Gli script che risiedono su un web server possono interagire con altri sistemi attraverso database server o sergenti con contenuto dinamico. Anche questi sono vulnerabili a certi tipi di attacchi:
</p><ol><li><strong>cross-site scripting (XSS)</strong>
</li><li><strong>SQL injection</strong>
</li></ol><p class='vspace'>L' <strong>XSS</strong> è un attacco che permette ad un malintenzionato di inserire codice arbitrario come input in un'applicazione web, consentendogli di raccogliere dati, leggere cookie, visualizzare falsa pubblicità e quindi modificare il contenuto del sito. Potenzialmente la vittima dell'attacco non è solo il sito ma anche l'utente perché un semplice link che porta ad una pagina di un sito non protetta può creare danni.
Può essere dovuto a due fattori:
</p><ol><li><em>siti web che si fidano dei dati che arrivano dall'esterno</em>: quando non c'è da parte del sito un sufficiente controllo dell'input e quindi l'attaccante è in grado di inviare uno script sapendo che questo non verrà controllato, anzi verrà eseguito.<br />Ad esempio un forum dove è possibile scrivere messaggi in codice HTML senza alcun controllo: l'attaccante inserisce uno script e gli utenti che accedono a quel messaggio del forum vengono reindirizzati su un altro sito dove sono presenti altri script che raccolgono dati.
</li><li><em>siti web spesso visualizzano quello che ricevono in input (echo back)</em>: quando viene utilizzato il metodo HTTP GET e quindi le informazioni ricercate vengono trasmesse tramite URI in chiaro. In questo modo se ad esempio sono in un motore di ricerca e cliccando su cerca invio la richiesta, questa viene visualizzata nell'URI ed è facile recuperare le informazioni della variabile che effettua la ricerca e possiamo sfruttare questa vulnerabilità modificando il GET di ritorno per accedere a dati ad esempio del database a cui non potremmo accedere.
</li></ol><p class='vspace'><strong>Contromisure</strong>:
</p><ul><li>per gli sviluppatori: controllare ogni informazione inserita in input dagli utenti prima di inoltrarla alle applicazioni.
</li><li>per gli utenti: tenere sempre aggiornato il proprio browser e scegliere quelli che permettono di disabilitare l'utilizzo di linguaggi quali javascript, vbscript, activix.
</li></ul><p class='vspace'>L' <strong>SQL injection</strong> invece è un attacco rivolto alle applicazioni web e coinvolge non solo SQL, ma qualsiasi linguaggio di programmazione e qualsiasi DBMS.<br />L'attacco consiste nell'inserimento di codice maligno nelle query SQL, sfruttando la mancanza di controlli sui dati da input dell'applicazione web.<br />L'input può essere trasmesso in tre modi:
</p><ul><li>URL (query string)
</li><li>form HTML
</li><li>cookie costruito su misura
</li></ul><p class='vspace'>L'attacco provoca:
</p><ul><li>manipolazione indesiderata dei dati
</li><li>accesso ad aree riservate 
</li><li>visualizzazione di dati riservati
</li></ul><p class='vspace'><em>Esempio</em>:<br />Abbiamo una variabile <em>$id</em> presa in input dalla query string, teoricamente di tipo intero, ma non validata.<br /><em>$sql = "SELECT * from articoli WHERE id=$id";</em><br />se un attaccante in <em>$id</em> inserisce<br /><em>$id = 1; DROP table articoli;</em> la query diventerà:<br /><em>$sql = "SELECT * from articoli WHERE id = 1; DROP table articoli;</em><br />che ovviamente provoca la cancellazione della tabella articoli.<br /><br />
<strong>Contromisure</strong> possibili sono:
</p><ul><li><em>controlli sul tipo di dato</em>: tramite l'utilizzo di alcune funzioni si forza una variabile ad appartenere ad un certo tipo.
</li><li><em>creazione di filtri tramite espressioni regolari</em>: i dati in input vengono descritti da una espressione regolare. Ad esempio controllare che l'input sia formato solo dalle lettere dalla A alla Z.
</li><li><em>eliminazione di caratteri potenzialmente dannosi</em>: si eliminano i caratteri che hanno un significato in un'interrogazione SQL, quindi <strong>, ; " </strong>'
</li><li><em>escape(\) di caratteri potenzialmente dannosi</em>: il carattere sul quale viene effettuato il quoting (\) viene interpretato letteralmente.
</li></ul><p class='vspace'><a name='a5' id='a5'></a>
</p><h2>Autenticazione in sistemi aperti</h2>
<p>Autenticarsi in sistemi aperti significa che gli utenti devono dimostrare la propria identità per ogni servizio utilizzato e i server devono garantire la propria identità al client. Per controllare chi è chi e cosa è cosa si sono create delle <em>carte d'identità</em> particolari chiamate <strong>certificati digitali</strong>.<br />Un <strong>certificato digitale</strong> è un documento elettronico che attesta, con una firma digitale, l'associazione tra una chiave pubblica e l'identità del soggetto. Esso è garantito da una terza parte fidata nota col nome di Certification Authority (per gli amici CA) che rilascia il certificato digitale contenente le informazioni dell'utente per cui rilascia il certificato, oltre alla chiave pubblica.<br />Il certificato lega il nome di un soggetto ad una chiave pubblica e per verificarne l'autenticità basta confrontarla con la chiave pubblica della CA.<br />La <strong>creazione di un certificato digitale</strong> avviene tramite queste fasi:<br />1. l'utente deve provare la propria identità alla CA (certification authority)<br />2. la CA verifica l'autenticità della chiave
</p><ul><li>coppia chiave pubblica/privata generata dalla CA
</li><li>coppia chiave pubblica/privata generata dall'utente
</li></ul><p>3. la CA crea un certificato digitale inserendo la chiave pubblica e i dati identificativi dell'utente<br />4. la CA firma il certificato con la propria chiave privata<br /><br />
Lo standard più diffuso per la rappresentazione di certificati è lo standard <strong>X.509</strong>. Esso definisce:
</p><ul><li>il <em>formato</em> dei certificati (insieme dei campi raccolti nel certificato)
</li><li>la <em>codifica</em>, che è in particolare la <strong>ANS.1</strong>
</li><li>la <em>revoca</em> dei certificati (diverse possono essere le cause: chiavi pubbliche le cui corrispondenti chiavi private sono compromesse, chiavi pubbliche le cui chiavi private sono state perse o semplicemente chiavi non più usate)<br /><br />
</li></ul><p>Lo standard <strong>X.509</strong> supporta due principali sistemi di revoca:
</p><ul><li>data di validità
</li><li>revoca esplicita
</li></ul><p>Il <strong>CRL (certificate revocation list)</strong> è una lista di certificati revocati che viene sempre controllata prima di considerare un certificato valido.<br />Per ogni certificato revocato il CRL contiene le seguenti informazioni:
</p><ul><li>issuer
</li><li>last update date
</li><li>next update date
</li><li>firma CA
</li><li>lista dei numeri di serie dei certificati revocati con data di revoca<br /><br />
</li></ul><p>Non esiste una singola CA che certifica tutte le chiavi pubbliche, ma sono organizzate in modo gerarchico: la root authority firma certificati per authority di livello più basso, authority di basso livello firmano certificati per singole reti e così via creando catene di certificati.
</p>
<p class='vspace'><a name='a6' id='a6'></a>
</p><h2>Firewall</h2>
<p>Un firewall è un sistema di controllo degli accessi che verifica tutto il traffico che transita attraverso lui. In particolare:
</p><ul><li>verifica pacchetti in transito
</li><li>maschera indirizzi interni (NAT)
</li><li>blocca pacchetti non autorizzati e/o pericolosi.
</li></ul><p class='vspace'>Permette o nega il passaggio del traffico basandosi su una politica di sicurezza quindi significa che non rileva i percorsi non previsti dalla politica. Purtroppo controlla solo ciò che passa attraverso di lui perciò intrusioni dall'interno non sono rilevate e nemmeno se arrivano da un percorso non controllato. Inoltre non controlla file infetti da virus.<br />
Le due <strong>specifiche ad alto livello</strong>, della politica di sicurezza, previste sono:
</p><ul><li><ins><em>default deny</em></ins>: tutto viene bloccato tranne quello che è autorizzato (politica chiusa)
</li><li><ins><em>default allow</em></ins>: tutto viene permesso tranne quello che non è autorizzato (politica aperta)
</li></ul><p class='vspace'>Un concetto legato ai firewall è la <strong>Demilitarized Zone(DMZ)</strong>:<br />è un segmento isolato di LAN (una "sottorete") raggiungibile sia da reti interne che esterne che permette, però, connessioni esclusivamente verso l'esterno: gli host attestati sulla DMZ non possono connettersi alla rete aziendale interna.<br />Tale configurazione viene normalmente utilizzata per permettere ai server posizionati sulla DMZ di fornire servizi all'esterno senza compromettere la sicurezza della rete aziendale interna nel caso una di tali macchine sia sottoposta ad un attacco informatico. Per chi si connette dall'esterno dell'organizzazione la DMZ è infatti una sorta di "strada senza uscita" o "vicolo cieco".<em>(from Wikipedia)</em>
</p>
<p class='vspace'>Ci sono diversi <strong>tipi</strong> di firewall:
</p><ul><li>software su processori general purpose. Soluzione più flessibile ed economica.
</li><li>software su processori GP.
</li><li>hardware dedicato(router). Soluzione più costosa.
</li></ul><p class='vspace'>Un'altra distinzione possibile è:
</p><ul><li><strong>network layer</strong>, quindi firewall che lavorano a livello di rete e cui appartengono le politiche di:
<ul><li><em>packet filtering</em>: non mantiene informazioni sullo stato della connessione.
</li><li><em>stateful packet filtering</em>: si rende conto se due pacchetti fanno parte della stessa sessione.
</li></ul></li><li><strong>application layer</strong>, quindi firewall che lavorano a livello applicato e che si rifà alle politiche di:
<ul><li><em>circuit level</em>
</li><li><em>application proxy</em>
</li></ul></li></ul><p class='vspace'>Ora analizziamo in dettaglio il packet filtering: i pacchetti vengono filtrati solo sulla base delle informazioni presenti nell'header, quindi: indirizzo sorgente, indirizzo destinazione, porta sorgente, porta destinazione, tipo di protocollo, opzioni di protocollo.<br />Come già accennato sopra questo tipo di filtraggio non riesce a tracciare la correlazione tra pacchetti in una trasmissione, perché non mantiene informazioni sullo stato della connessione.
</p>
<p class='vspace'>Le <strong>regole di filtraggio</strong> possibili per questa politica sono:
</p><ol><li>controllare gli indirizzi usati per chiudere/aprire il traffico da determinate sorgenti a determinate destinazioni.<br />Quindi ad esempio se abbiamo un pacchetto che arriva sull'interfaccia esterna che però ha un mittente della rete interna lo si blocca.
</li><li>controllare i numeri di porta usati per bloccare/permettere servizi noti.
</li><li>bloccare un protocollo sospetto.
</li><li>una combinazione dei precedenti.
</li></ol><p class='vspace'>Le regole di filtraggio sono memorizzate in uno <em>specifico ordine</em>  e ogni regola è applicata al pacchetto nell'ordine in cui è memorizzata.<br />Perciò:<br />- se una regola blocca la trasmissione/ricezione di un pacchetto il pacchetto è rifiutato, se la regola lo permette il pacchetto è permesso.<br />- se invece il pacchetto non soddisfa nessuna regola si applica la regola di default: deny, politica chiusa(tutto ciò che non è espressamente permesso viene negato).<br /><br />
<strong>Svantaggi Packet Filter</strong>:
</p><ol><li>nelle connessioni TCP i numeri di porte minori di 1024 sono permanentemente assegnati a server.
</li><li>client usano porte nel range [1024, 16383] e devono perciò essere disponibili per i client per ricevere response.
</li><li>pacchetti in input diretti a qualche client con porta superiore a 1024 devono essere permessi (potrebbe essere la risposta di un server ad una connessione stabilita precedentemente o un traffico illecito, ma non si può saperlo con certezza se non si tiene traccia dello stato di ogni connessione).
</li><li>non è possibile accettare il traffico in ingresso solo se relativo ad una richiesta proveniente dall'interno (se il protocollo è TCP, cioè connection-oriented, si può fare; ma se è UDP, cioè connection-less, non si può).
</li></ol><div class='vspace'></div><hr />
<p><a class='wikilink' href='ElementiSicurezzaPrivatezza.html'>Torna alla pagina di Elementi di sicurezza e privatezza</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/ESP-SicurezzaNelleReti)</span></div>
  </div>
</body>
</html>
