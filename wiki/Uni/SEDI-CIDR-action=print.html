<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Note sul CIDR</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SEDI-CIDR.html' title='Note sul CIDR'>Note sul CIDR</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='Sistemi.html'>Torna alla pagina di Sistemi per l'elaborazione delle informazioni</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Note sul CIDR ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione extra dovuta al fatto che il CIDR rimane misterioso</span>
</p>
<div class='vspace'></div><div  style='text-align: left; background-color: #f5f9fc; width: 220px; border: 2px solid #cccccc; padding: 5px;' > 
<p  style='text-align: center;'><strong>Indice</strong>
</p>
<div class='vspace'></div><ol><li><a href='#s1'>Che cosa diavolo è???</a>
</li><li><a href='#s2'>La notazione</a>
</li><li><a href='#s3'>A che serve</a>
</li><li><a href='#s4'>Come usarlo</a>
</li></ol></div>
<p class='vspace'><a name='s1' id='s1'></a>
</p><h2>Che cosa diavolo è???</h2>
<p><strong>CIDR</strong> sta per <em>Classless Inter-Domain Routing</em>, ovvero il sistema di instradamento senza classi che usiamo con VLSM. È il nome della teoria sottostante.
</p>
<p class='vspace'><a name='s2' id='s2'></a>
</p><h2>La notazione</h2>
<p>La notazione CIDR è quella ormai famosa del tipo: <strong>180.23.45.0/24</strong>. In pratica, si appone come suffisso una <strong>/</strong> e un numero, il quale indica il numero di <strong>bit</strong> che dovranno fare da maschera a quell'indirizzo IP.
</p>
<p class='vspace'>Nel caso di 180.23.45.0/24, vuol dire che i primi 24 bit, cioè i primi 24 / 8 = 3 ottetti rappresenteranno un identificativo di rete. Applico la mia bella maschera di 24 bit, e scopro subito se un host appartiene alla mia rete oppure no. La lezione precedente ne parla in modo esaustivo.
</p>
<p class='vspace'><a name='s3' id='s3'></a>
</p><h2>A che serve</h2>
<p>Abbiamo già stabilito che le classi non sono affatto un bene. Non si possono attribuire solo delle classi, quando vendo degli indirizzi, per via del fatto che ci sono aziende che hanno molto meno di 255 computer, il minimo per godersi un classe C, etc. etc. Quindi si cerca di evitare di usare le classi nell'assegnazione degli indirizzi.
</p>
<p class='vspace'>Il sistema usato è quello delle maschere di lunghezza variabile. In base a questa, riesco a creare delle sottoreti a partire da altri indirizzi.
</p>
<p class='vspace'>A che servono le maschere? Servono innanzitutto a me come host per stabilire se il destinatario del mio pacchetto sta nella mia stessa rete, oppure no. Ma servono anche ai <em>rauter</em> per decidere DOVE inoltrare i pacchetti. Infatti, abbiamo detto subito che la brillante idea era quella di far sì che ogni indirizzo IP non solo determinasse un singolo host, ma stabilisse da solo l'instradamento verso quell'host. Ebbene, come abbiamo già detto questo sistema si è rivelato inadatto al numero di host connessi alla Internet globale dei tempi moderni.
</p>
<p class='vspace'>Per questo, è preferibile non assegnare intere classi, ma più comodamente <em>gruppi di indirizzi</em>. Qui entra in gioco la nostra VLSM.
</p>
<p class='vspace'><a name='s4' id='s4'></a>
</p><h2>Come usarlo</h2>
<p>Prendiamo questo indirizzo: 190.40.56.64/26. L'ultimo ottetto è <strong>01000000</strong>. Il <strong>/26</strong> mi dice che devo considerare anche i primi due bit del quarto ottetto. I primi due bit del quarto ottetto sono <strong>01</strong>. Quindi, io so che TUTTI gli host che cominciano con <strong>01</strong> al quarto ottetto sono miei amici.
</p>
<p class='vspace'>Niente di nuovo. Ma quello che va aggiunto è che questo sistema viene usato dai rauter per assegnare blocchi di indirizzi contigui. Prendiamo per esempio un'azienda che vuole un po' di computer, diciamo un po' più di un classe C ma meno di un classe B. Io provider gli assegno allora un paio di classe C: uno è <strong>190.45.2.0</strong>, e l'altro è <strong>190.45.3.0</strong>. Ovviamente gli host vanno da 0 a 255, ok?
</p>
<p class='vspace'>Il router che sta dal provider, quando vede arrivare questi due indirizzi, deve avere 2 regole di routing: entrambe mi dicono che gli indirizzi puntati da 190.45.3.x e 190.45.2.x devono essere inoltrati alla RaimonDigital. Ma posso fare una furbata: prendo 2 piccioni con una fava con una maschera intelligente.
</p>
<p class='vspace'>Cambo la regola di routing del provider e la faccio diventare così: 190.45.2.0/23. Che vuol dire? Semplice. Scrivo giù il mio indirizzo, e del 3° ottetto prendo 7 bit. Il terzo ottetto è 2, che si scrive <strong>00000010</strong>. Se prendo i primi 7 bit, escludo l'ultimo. Ora, se ci fate caso, per scrivere 190.45.3.x, il terzo ottetto dovrebbe essere <strong>00000011</strong>, ok? Quindi, con un CIDR solo piazzato intelligentemente, posso coprire 512 indirizzi con un colpo solo! Capito dove sta il trucco?
</p>
<p class='vspace'>In questo modo posso vendere blocchi di indirizzi che esulano dalla solita divisione in classi, e lo posso fare usando il VLSM anche a livello di router.
</p>
<p class='vspace'>Il nostro esempio è piccolo e banale, ma i router devono spesso gestire tabelle gigantesche, e sistemi del genere fanno risparmiare un bel po' di roba.
</p>
<p class='vspace'>L'ultima cosa che occorre notare è che qui il trucco funziona, ma non avrebbe potuto funzionare se il mio cliente avesse avuto le reti 190.45.1.0 e 190.45.2.0. Perché? Guardiamo ancora il 3° ottetto. Nel caso di 190.45.1.0, sarebbe <strong>00000001</strong>. Nel caso di 190.45.2.0 sarebbe invece <strong>00000010</strong>. Come vedete, se usassi come regola di routing 190.45.1.0/24 escluderei del tutto la rete 190.45.2.0; se usassi 190.45.1.0/23, sarebbe la stessa cosa, perché prendo solo l'ultimo bit del 3° ottetto, e questo è già fisso ad 1. Se uso 190.45.1.0/22, idem, perchè gli ultimi due bit del 3° ottetto sono <strong>01</strong> e non posso cambiarli perché fanno parte del net id. Capite quindi che gli indirizzi devono essere in qualche modo compatibili per essere aggregati con un'unica notazione CIDR.
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='Sistemi.html'>Torna alla pagina di Sistemi per l'elaborazione delle informazioni</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SEDI-CIDR)</span></div>
  </div>
</body>
</html>
