<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi - Appunti caotici</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod3-4-Lez3.html' title='Sistemi Operativi - Appunti caotici'>Sistemi Operativi - Appunti caotici</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 3</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Comunicazione con memoria condivisa</span>
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Condivisione di variabili globali</h4>
<p>In figura posso vedere che ho due processi P e Q, i quali possediono nella memoria il loro stack, il loro heap ecc., ma possiedono un blocco di memoria che è condiviso da entrambi i processi. Tale condivisione viene creata affinchè i due processi possano comunicare. Con la condivisione della memoria però ho diversi problemi da risolvere, uno di questi è la possibilità di avere delle inconistenze nelle informazioni lette dal processo ricevente. Tali incosistenze si verificano a causa di un accesso da parte del processo ricevente durante la scrittura dei dei dati da parte del processo mittente, questo porta ad una lettura di informazione errata. Per risolvere questo problema devo poter inserire delle politiche di sincronizzazione degli accessi da parte dei processi.<br />
Utilizzando questo metodo posso tollerare questi incovenienti a patto che ci sia una rigida separazione fra i due processi e in secondo luogo perchè la porzione di memoria condivisa è abbastanza limitata. Un altro motivo che mi porta ad poter tenere in considerazione questo metodo è che comunque le altre zone di memoria sono protette da tentativi di accesso, quindi non possono modificare zone importanti come quelle che contengono il codice del sistema operativo.
</p>
<div class='vspace'></div><h4>Problemi della condivisione di variabili globali</h4>
<p>I problemi che possono sorgere nell'utilizzare la condivisione delle variabili globali sono:<br />
</p><ul><li>Dato che la comunicazione è diretta i due processi che vogliono comunicare devono conoscersi;<br />
</li><li>Devo evitare inconsistenze nei dati che voglio condividere, quindi i dati devono essere validi;<br />
</li><li>Devo quindi rispettare delle politiche di sincronizzazione per evitare inconsistenze nei dati;<br />
</li></ul><h2>Pag 3</h2>
<h4>Realizzazione con area comune copiata dal sistama operativo</h4>
<p>Con questa tecnica dedico un'area di memoria temporanea. I due processi P e Q, che si trovano in memoria per comunicare devono appellarsi al sistema operativo, in quanto i processi hanno visibilità limitata al loro proprio spazio di indirizzamento, sempre per evitare che facciano danni permanenti. Il sistema operativo dunque copia il blocco di memoria del processo mittente contente l'informazione e lo copia in un blocco della sua memoria, la quale è temporanea. Una volta acquisito tutto il blocco dal processo mittente il sistema operativo lo copia all'interno del processo ricevente, dando così l'impressione di uno spazio di memoria condivisa. Si ricorre al sistema operativo in quanto lui svolge tutte le operazioni in modalità superuser.<br />
Il problema sorge quando il processo ricevente effettua una modifica dell'informazione acquisita. Il problema che sorge è appunto che il sistema operativo deve rieffetuare delle operazioni di lettura e scrittura sprecando un sacco di tempo. Queste operazioni sono relativamente veloci se la parola da copiare è corta, la situazione si aggrava se le parole di memoria aumentano (è un rapporto direttamte proporzionale, aumenta l'una aumenta anche l'altro). Per risolvere questo problema devo devo dimensionare accuratamente lo spazio di memoria che voglio condividere. L'idea di fondo è che piuttosto di crare uno spazio condiviso enorme (che mi porta al problema di prima), creo diversi spazi di memoria che condividerò solo più piccoli.<br />
</p><h4>Realizzazione con area comune fisicamente condivisa</h4>
<p>L'alternativa al metodo precedente è dedicare fisicamente una porzione di memoria. Per far questo devo poter garantire l'accesso, da parte dei due processi, a questa zona di memoria condivisa. Questo lo realizzo facendo rientrare l'indirizzo della memoria condivisa fra quelli a cui i processi possono accedere, dando di fatto i permessi per l'accesso. Utilizzando questo metodo risparmio un sacco di tempo evitanto accessi in lettura e scrittura da parte del sistema operativo in quanto i due processi vi possono accedere liberamente. Devo stare attento solo alle politiche di sincronizzazione degli accessi per evitare inconsistenze nei dati.<br />
</p><h2>Pag 4</h2>
<h4>Condivisione di buffer(1)</h4>
<p>Il processo mittente scriverà le sue informazioni all'interno del buffer, informazioni che verranno poi lette dal processo ricevente. Il buffer conterrà solo le informazioni, e non quindi tutte le variabili globali, anche se ho diversi problemi.<br />
</p><h4>Condivisione di buffer(2)</h4>
<p>I problemi che sorgono sono sempre quelli relativi alla sincronizzazione per evitare inconsistenze nei dati. L'unico vantaggio è che si tratta di una zona di memoria il cui spazio è limitato, quindi le operazioni di copiatura dell'informazione sono abbastanza veloci.
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Produttore-Consumatore (1)</h4>
<p>...
</p>
<div class='vspace'></div><h4>Produttore-Consumatore (2)</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 6</h2>
<h4>Produttore-Consumatore (3)</h4>
<p>Utilizzo un buffer circolare (dal punto di vista logico, dato che fisicamente deve essere ovviamente realizzato in modo lineare) in cui P mette dentro uno dopo l'altro i propri messaggi e Q andrà a tirar fuori le informazioni che gli servono.
</p>
<div class='vspace'></div><h4>Produttore-Consumatore (4)</h4>
<p>...
</p>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod3-4-Lez3)</span></div>
  </div>
</body>
</html>
