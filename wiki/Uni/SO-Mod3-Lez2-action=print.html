<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Sistemi Operativi</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='SO-Mod3-Lez2.html' title='Sistemi Operativi'>Sistemi Operativi</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Appunti caotici ::</strong>
</pre><p class='vspace'  style='text-align: center;'><span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Lezione 2</span>
<span  style='background-color: #d9e4f2; font-size: 11pt; padding: 4px; padding-left: 50px; padding-right: 50px;'>Creazione e terminazione dei processi</span>
</p>
<div class='vspace'></div><h2>Pag 1</h2>
<h4>Sommario</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 2</h2>
<h4>Processi come flussi di operazioni</h4>
<p>...
</p>
<div class='vspace'></div><h4>Modellazione della computazione a processi</h4>
<p>I modelli di computazione non implicano nulla a livello di struttura del codice del programma, e si dividono in:
</p><ul><li>processi monolitici, dove il programma fa tutte le operazioni dall'inizio alla fine con un unico flusso (e quindi processo)
</li><li>processi cooperativi, dove il programma lancia una serie di processi concorrenti che lavorano (a livello logico) in parallelo per lo stesso scopo. Da notare come non lavorino in modo indipendente, ma interagendo e quindi condividendo risultati, sincronizzandosi, ecc.
</li></ul><p class='vspace'>Modelli di realizzazione del codice eseguibile:
</p><ul><li>programma monolitico
</li><li>programmi separati, in cui bisogna pensare il codice fisicamente separato, composto da un ventaglio di programmi ognuno con la sua parte. Quindi la prima operazione che eseguirà l'applicazione generale sarà lanciare i vari programmi che la compongono
</li></ul><div class='vspace'></div><h2>Pag 3</h2>
<h4>Generazione di un processo</h4>
<p>La fork() crea un processo indipendente ed eventualmente cooperante. Sostanzialmente genera due flussi:
</p><ul><li>quello del processo padre P, che continua
</li><li>quello del processo figlio Q, che viene generato
</li></ul><p class='vspace'>Non c'è nulla che impedisca a P e Q di creare altri figli in qualsiasi momento.
</p>
<div class='vspace'></div><h4>Risorse dei processi</h4>
<p>Il processo figlio avrà una propria porzione di memoria centrale separata da quella del padre. In particolare sarà separato il contenuto dello stack pointer, il che è una condizione necessaria perché i due processi siano indipendenti (altrimenti starebbero eseguendo le stesse operazioni nello stesso momento).
</p>
<p class='vspace'>Il processo padre può condividere tutte o parte (alcune o nessuna) delle sue risorse col figlio. Nel caso in cui il processo figlio non condividesse nulla col padre, dovrà ottenere le risorse esclusivamente dal sistema.
</p>
<p class='vspace'>Infine, il processo padre può inizializzare i dati di Q, in modo tale da definire l'ambiente operativo iniziale in cui il figlio andrà ad operare.
</p>
<div class='vspace'></div><h2>Pag 4</h2>
<h4>Spazio di indirizzamento (1)</h4>
<p>Lo spazio di memoria del processo figlio è riservato. Ciò garantisce una turnazione adeguata dei processi sul processore, dal momento che nessuno di essi potrà interferire nella memoria centrale dell'altro.
</p>
<p class='vspace'>Per quanto riguarda la parte di codice, a livello logico è sdoppiato sulle due porzioni di memoria di P e di Q. In realtà tale separazione è spesso solo illusoria: a patto che il codice non cambi, ne esiste un'unica copia da cui padri e figli attingono. Quindi ciò non è vero per programmi scritti con linguaggi come il LISP o il PROLOG, in grado di modificare il loro codice in fase di esecuzione.
</p>
<div class='vspace'></div><h4>Spazio di indirizzamento (2)</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 5</h2>
<h4>Spazio di indirizzamento (3)</h4>
<p>La exec() viene utilizzata per creare un nuovo programma, quindi con un suo spazio di memoria indipendente, che butta via l'ambiente del padre e ne carica uno nuovo.
</p>
<p class='vspace'>Nel caso si voglia ottenere un nuovo programma, la funzione exec() va eseguita come prima istruzione del processo figlio
</p>
<p class='vspace'>La fork() e la exec() vengono generalmente tenute separate (e non facenti parte di un'unica suppafunction) perché potrebbero essere utilizzate per effettuare altre operazioni, come ad esempio cambiare il codice che si sta eseguendo per svolgere attività di tipo diverso (cambiando così il codice eseguibile).
</p>
<div class='vspace'></div><h4>Esempio</h4>
<p>...
</p>
<div class='vspace'></div><h2>Pag 6</h2>
<h4>Esecuzione dei processi</h4>
<p>...
</p>
<div class='vspace'></div><h4>Albero dei processi</h4>
<p>Ho un processo iniziale che attiva altri processi, che a loro volta attivano altri processi, che .. ecc ecc
</p>
<p class='vspace'>L'albero rappresentato fa riferimento ad un tipico sistema operativo di tipo Unix: il sistema parte, viene inizializzato, viene eseguito il processo cosiddetto 0 che crea una serie di procedure di sistema standard, tra cui il processo init che gestisce a sua volta i processi cui compete l'interfaccia con l'utente (interprete comandi); poi l'utente può lanciare vari processi che lanciano ecc ecc
</p>
<p class='vspace'>Nota: la catena di eventi vista sopra non avviene solo nei sistemi Unix, ma in modo più o meno standard anche negli altri sistemi operativi (solo, con nomi diversi).
</p>
<div class='vspace'></div><h2>Pag 7</h2>
<h4>Terminazione di un processo (1)</h4>
<p>Normalmente il processo termina dopo l'esecuzione dell'ultima istruzione del codice (inteso ad alto livello).
</p>
<p class='vspace'>La exit() è una funzione che termina formalmente il programma restituendo al sistema operativo un valore di ritorno (che indica la buonriuscita del programma) e dealloca le risorse. Nel caso in cui la funzione non vada a buon fine, l'errore si propagherà dal valore di ritorno che attiverà funzioni di avviso dell'utente ed eventuale gestione dell'errore.
</p>
<div class='vspace'></div><h4>Terminazione di un processo (2)</h4>
<p>La funzione abort() è utilizzata per la terminazione con anomalie.
</p>
<p class='vspace'>Tra le possibili cause che conducono al suo utilizzo ricordiamo:
</p><ul><li>eccessivo uso di una risorsa, ad esempio una massiccia richiesta di allocazione di variabili dinamiche (che vanno presto a saturare lo spazio disponibile)
</li><li>terminazione a cascata, nel senso che se uccido un processo i figlio potrebbero essere uccisi a loro volta.
</li></ul><div class='vspace'></div><hr />
<p><a class='wikilink' href='SistemiOperativi.html'>Torna alla pagina di Sistemi Operativi</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/SO-Mod3-Lez2)</span></div>
  </div>
</body>
</html>
