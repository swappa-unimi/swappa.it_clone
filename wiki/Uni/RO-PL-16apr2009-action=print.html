<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
 <title>Swappa : Uni / Ricerca Operativa - PL - Feriti - 16.04.09</title>
 <meta http-equiv='Content-Type' content='text/html; charset=ISO-8859-1' />
 <meta http-equiv='Content-Language' content='en' />
 <meta http-equiv='Content-Style-Type' content='text/css' />
 <meta http-equiv="imagetoolbar" content="no" />
 <meta name='MSSmartTagsPreventParsing' content='true' />
 <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
.progress-bar {
	display: block;
	background: transparent; 
	width: 520px;
	font-size: 1px; /* for IE */
	margin: 2px 0;
}

.progress-bar .pb1, .progress-bar .pb2, .progress-bar .pb3, .progress-bar .pb4 {
	display: block; 
	background: #fff; 
	border-left:  1px solid #999; 
	border-right: 1px solid #999;

	overflow: hidden; 
	height: 1px; 
}
.progress-bar .pb1 { margin: 0 4px; background: #999;}
.progress-bar .pb2 { margin: 0 2px; border-width: 0 2px; }
.progress-bar .pb3 { margin: 0 1px; }
.progress-bar .pb4 { height: 11px; padding: 0 3px; }
.progress-bar .pb5 { display: block; background: #eeeeef; overflow:hidden; }

.progress-bar .bar {
	display: block;
	background: #a5bbd8;
	height: 11px;
	padding: 0;
}
.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>
  <link rel='stylesheet' href='../pub/wsplus/wsplus.css' 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url('http://www.swappa.it/wiki/pub/wsplus/csshover.htc'); }
    .rollover * { visibility: visible; }
  </style><![endif]-->
<script type='text/javascript' src='../pub/syntaxlove/scripts/shCore.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCSharp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushCpp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushJava.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPerl.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPhp.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushPython.js'></script><script type='text/javascript' src='../pub/syntaxlove/scripts/shBrushRuby.js'></script> <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shCore.css'/>
  <link type='text/css' rel='stylesheet' href='../pub/syntaxlove/css/shThemeDefault.css'/>
  <script type='text/javascript'>
  	SyntaxHighlighter.config.clipboardSwf = 'http://www.swappa.it/wiki/pub/syntaxlove/scripts/clipboard.swf';
  	SyntaxHighlighter.all();
  </script>  <meta name='robots' content='noindex,nofollow' />

 <style type='text/css'><!--

/* Default Fonts */
body { font-family: Verdana,Arial,Helvetica,sans-serif; }
body, td, th { color:#000000; }
body, td, th { font-size: 10pt; }
small { font-size:0.85em; }
code { white-space: nowrap; }
h1, h2, h3, h4, h5 { margin-top:1em; margin-bottom:0.6em; }
h1 { font-size: 1.9em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }
h4 { font-size: 1.06em; }
h5 { font-size: 1.0em; }
ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }

/* Misc. */
body { width:auto; background-color:#ffffff; margin:0px; padding:0.5em; }
img { border-width: 0px; }
.indent { margin-left:30px; }
.outdent { margin-left:30px; text-indent:-30px; }
.vspace { margin-top:1.33em; }

/* Links */
a:link { color:#333333; font-weight:normal; text-decoration:underline; }
a:visited { color:#333333; font-weight:normal; text-decoration:underline; }
a.wikilink:hover { color: #333333; text-decoration:underline; }
a.createlink { text-decoration:none; position:relative; top:-0.5em; font-weight:bold; font-size:smaller; border-bottom:none; }
a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
a.varlink { text-decoration:none; }
.apprlink { font-size:smaller; }

/* Print View Page Header */
#printhead { font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }
#printhead a, #printhead a:visited { font-weight:bold; text-decoration:none; }
#cc { float:right; font-size:11pt; border-bottom:2px solid #a0a0a0; margin-bottom:1em; }

/* Print View Page Footer */
#printfoot { font-family: Arial,Helvetica,Geneva,sans-serif; margin-top:1em; border-top:2px solid #a0a0a0; font-size:7pt; }
  
 --></style>
</head>
<body>
  <div id='printhead'>
    <a href='../index.html' title='Swappa Home'>Swappa</a> :
    <a href='http://www.swappa.it/wiki/Uni' title='Uni Home'>Uni</a> /
    <a href='RO-PL-16apr2009.html' title='Ricerca Operativa - PL - Feriti - 16.04.09'>Ricerca Operativa - PL - Feriti - 16.04.09</a>
    <div id='cc'>
	<a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/">
	<img alt="Creative Commons License" style="border-width:0" height="15" width="80" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/80x15.png" />
	</a>
    </div>
  </div>
  
<!--PageText-->
<div id='wikitext'>
<p>
<a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p><hr />
<div class='vspace'></div><pre  style='text-align: center; background-color: #ffe4c4; border: 2px solid #cccccc; font-size: 13pt; padding: 5px;'> <strong>:: Ricerca Operativa - PL - Feriti - 16.04.09 ::</strong>
</pre><div class='vspace'></div><h2>Testo del problema</h2>
<p>In seguito ad un’esplosione si è verificata una situazione di emergenza. Numerosi feriti devono essere ricoverati al più presto presso gli ospedali della zona. Sono stati allestiti alcuni punti di triage, tutt’intorno alla zona dell’incidente e i feriti sono stati classificati in tre tipologie (traumi ortopedici, ustioni, intossicazione). Ciascuno degli ospedali della zona ha disponibilità per ricevere un numero limitato di feriti per ciascuna delle tipologie. L’assegnamento dei feriti agli ospedali deve essere fatto in modo tale da minimizzare il ritardo relativo medio, definito come il valor medio calcolato su tutta la popolazione dei feriti del ritardo relativo riferito ad ogni singolo ferito. Il ritardo relativo è il rapporto tra il tempo di percorrenza dal punto di triage dove il ferito è stato accertato all’ospedale a cui il ferito è stato assegnato ed il minimo tempo di percorrenza da quel punto di triage ad un ospedale compatibile con la tipologia del ferito. Il numeratore di questo rapporto misura il “livello di servizio” ricevuto dal ferito, mentre il denominatore indica il livello di servizio migliore possibile che quel ferito avrebbe potuto ricevere nel caso per lui più fortunato.<br />Formulare il problema, classificarlo e risolverlo con i dati del file FERITI.TXT. Discutere l’ottimalità della soluzione trovata.
</p>
<div class='vspace'></div><h3>Dati</h3>
<pre class='escaped'>
I punti di triage sono 6, gli ospedali sono 8, 
le tipologie di pazienti sono 3.


Tab. 1: Tempi di percorrenza [minuti]

Triage            Ospedali
        1   2   3   4   5   6   7   8

1      10  12  15  20  32  36  40  50
2      14   8   5  10  30  38  40  48
3      21  22  10  10  32  25  25  40
4      24  22  15  15  20  15  25  45
5      30  30  25  28  27  22  20  30
6      32  35  30  30  28  25  20  20

Tab. 2: Capacità (n.pazienti di ogni tipo ricevibili da ogni ospedale)

Tipo paz.            Ospedali
        1   2   3   4   5   6   7   8

1      12  10   8  10  15  20  20  20
2       5   0   2   0   8   0   0  10
3      15   8  11   5  20  18  13   0


Tab. 3: Triage (n. pazienti di ogni tipo per ogni punto di triage)

Triage  Tipo pazienti
          1   2   3

  1       3   0   5
  2      11   1   6
  3      23   9   0
  4      12   5  12
  5      19   2  19
  6      22   3  28

Totale   90  20  70
</pre>
<div class='vspace'></div><h2>Formulazione del problema</h2>
<h3>Dati</h3>
<ul><li><strong>triage = 6</strong> (numero punti di triage) 		i
</li><li><strong>ospedali = 8</strong> (numero di ospedali)		j
</li><li><strong>tipoPaz = 3</strong> (numero di tipi di pazienti)	k
</li><li><strong>tPerc<sub>ij</sub></strong> (tempo di percorrenza dal triage i=1..6 all'ospedale j=1..8) [minuti]
</li><li><strong>capacita<sub>jk</sub></strong> (numero pazienti di tipo k=1..3 che possono essere ospitati nell'ospedale j=1..8)
</li><li><strong>nPazT<sub>ik</sub></strong> (numero pazienti di tipo k=1..3 nel triage i=1..6)
</li></ul><div class='vspace'></div><h3>Variabili</h3>
<ul><li><strong>x<sub>ijk</sub></strong> (numero feriti di tipo k=1..3 trasportati dal triage i=1..6 all'ospedale j=1..8)
</li></ul><p class='vspace'>La variabile è continua e non negativa.
</p>
<div class='vspace'></div><h3>Funzione obiettivo</h3>
<p>Ci viene chiesto di minimizzare il ritardo relativo medio, definito come da testo. Avremo però bisogno dei "minimi tempi di percorrenza dal punto di triage a un ospedale compatibile", che dobbiamo ricavarci dal testo. Prima di scrivere la funzione obiettivo scriviamo dunque questi dati:
</p>
<div class='vspace'></div><pre class='escaped'>
Tempi minimi di percorrenza dal triage a un ospedale compatibile
al paziente di tipo k

Triage     Tipo
         1   2   3

1	10  10  10
2	 5   5   5
3 	10  10  10
4	15  15  15
5  	20  25  20
6 	20  20  20
</pre>
<p class='vspace'>Indichiamo questi tempi con <strong>tMin<sub>ik</sub></strong> e definiamo la funzione obiettivo:<br /><strong>min (somma)<sub>i</sub> (somma)<sub>j</sub> (somma)<sub>k</sub> (tPerc<sub>ij</sub> / tMin<sub>ik</sub>) * x<sub>ijk</sub></strong>
</p>
<div class='vspace'></div><h3>Vincoli</h3>
<ul><li>vincolo sulla capacità degli ospedali per ogni tipo di paziente:<br /><strong>(somma)<sub>i</sub> x<sub>ijk</sub> &lt;= capacita<sub>jk</sub></strong> (per ogni j e per ogni k)
</li><li>vincolo che impone che la somma dei pazienti inviati agli ospedali sia pari a quelli che effettivamente si trovavano nei vari triage):<br /><strong>(somma)<sub>j</sub> x<sub>ijk</sub> = nPazT<sub>ik</sub></strong> (per ogni i e per ogni k)
</li></ul><div class='vspace'></div><h2>Linghizzazione del problema</h2>
<pre class='escaped'>
! esercizio: feriti;

model:

sets:
triage /1..6/;
ospedale /1..8/;
tipoPaz /1..3/;
trasporto(triage,ospedale): tPerc;
degenza(tipoPaz,ospedale): capacita;
assegnamento(triage,tipoPaz): tMin, nPazT;
smistamento(triage,ospedale,tipoPaz): x;
endsets

data:
tPerc =  	10  12  15  20  32  36  40  50
     	14   8   5  10  30  38  40  48
     	21  22  10  10  32  25  25  40
     	24  22  15  15  20  15  25  45
     	30  30  25  28  27  22  20  30
     	32  35  30  30  28  25  20  20;

capacita =   12  10   8  10  15  20  20  20
	          5   0   2   0   8   0   0  10
     	   15   8  11   5  20  18  13   0;

tMin = 10 10 10
        5  5  5
       10 10 10
       15 15 15
       20 25 20
       20 20 20;

nPazT = 3   0   5
       11   1   6
       23   9   0
       12   5  12
       19   2  19
       22   3  28;
enddata

! funzione obiettivo;
min = @sum(smistamento(i,j,k): tPerc(i,j) / tMin(i,k) * x(i,j,k));

! vincoli sul numero totale di pazienti smistati;
@for(assegnamento(i,k): @sum(ospedale(j): x(i,j,k)) = nPazT(i,k));

! vincoli sulla capacità degli ospedali;
@for(degenza(k,j): @sum(triage(i): x(i,j,k)) &lt;= capacita(k,j));

end
</pre>
<div class='vspace'></div><h2>Altre domande</h2>
<h3>Considerare eventualmente il problema dal punto di vista degli ospedali, assumendo come funzione obiettivo l’equa distribuzione di tutti i feriti tra gli ospedali. Si vorrebbe in tal caso minimizzare il massimo sovraccarico, cioè il massimo tra i valori di sovraccarico riferiti ai singoli ospedali. Per sovraccarico di un ospedale si intende il rapporto tra il numero di feriti assegnati all’ospedale e il numero di feriti che sarebbero stati assegnati all’ospedale se tutti gli ospedali avessero ricevuto i feriti in ugual numero.</h3>
<p>Cambia la funzione obiettivo, e dal momento che devo minimizzare il massimo sovraccarico dovrà introdurre una variabile ausiliaria z che andrà definita come nuovo vincolo. La funzione obiettivo diventa perciò:<br /><strong>min z</strong>
</p>
<p class='vspace'>Mentre il nuovo vincolo in cui definisco z sarà:
</p><pre class='escaped'> z &gt;=      (somma)_ik  x_ijk
        ---------------------------
        [(somma)_ik  capacita_ik]/8</pre>
<p class='vspace'>Invece di dividere il denominatore per 8 posso moltiplicare la frazione per 8, ottenendo così:<br /><strong>z &gt;= [(somma)<sub>i</sub> (somma)<sub>k</sub> x<sub>ijk</sub>] / [(somma)<sub>i</sub> (somma)<sub>k</sub> nPazT<sub>ik</sub>] * 8</strong> (per ogni j)
</p>
<p class='vspace'>Che in Lingo diventa:
</p>
<div class='vspace'></div><pre class='escaped'>!funzione obiettivo;
min = z;

! vincolo per definire il massimo sovraccarico;
@for(ospedale(j):
   z &gt;= @sum(assegnamento(i,k): x(i,j,k) /
        @sum(assegnamento(i,k): nPazT(i,k)
        * 8;
);</pre>
<div class='vspace'></div><hr />
<p><a class='wikilink' href='RicercaOperativa.html'>Torna alla pagina di Ricerca Operativa</a>
</p>
</div>

  <div id='printfoot'>
    <div class='printview'>(Printable View of <span style='white-space:nowrap;'>http://www.swappa.it/wiki/Uni/RO-PL-16apr2009)</span></div>
  </div>
</body>
</html>
